摘要：针对飞机起落架系统，传统健康管理方式存在知识不完备、数据不平衡和模型固化等问题，开展了数字孪生驱动的健康管理技术研究，提出以自更新模型为基础实现故障诊断与预测的数字孪生健康管理框架。从起落架系统物理和行为2个维度建立孪生模型来实现真实系统的数字映射，依托强化学习算法实现数字孪生模型参数的更新，确保孪生模型实时跟踪和反映实体健康状态，并以此为基础设计基于事件的故障诊断和基于粒子滤波的故障预测方案。以起落架收放系统为例完成实验验证，与传统方法相比，本文方法在实时性、准确性和鲁棒性方面表现更优。

关键词：起落架；数字孪生；健康管理；基于事件的故障诊断；模型跟踪；故障预测

中图分类号：V37 文献标识码：A 文章编号：1000- 6893（2023）11- 227629- 19

根据欧洲航空安全局（European Union Aviation Safety Agency，EASA）2021年度安全审查报告显示，2020年商业飞机起飞、降落和着陆过程在飞行阶段的事故占比可达到  $63.4\%$  军用飞机占比可达到  $73.5\%$  ，在这3个阶段中由于起落架故障引起的非人为事故比例又可达到 $50\%$  以上。飞机起落架作为重要支持系统，负责承受载荷、吸收冲击能量、保证飞机在地面运动过程中的使用安全，因此起落架健康程度密切影响飞机起降性能和运行安全，对起落架进行实时、准确、可靠的健康管理十分必要。

现代飞机起落架是一个由若干关联的子系统共同组成的复杂综合系统，传统的维修检查方式耗费大部分时间用于定位缺陷，通常需要一系列的拆卸组装过程，且不具备预测能力，维护频率为每年一次（C- check）或是更少，因此函需对飞机

起落架系统开展全面的健康管理研究以降低维修成本并提高系统可靠性和安全性[4- 5]。预测和健康管理（Prognostics and Health Management，PHM）技术因有效降低复杂机电设备生命周期的维修成本而得到大力发展[6]。针对飞机起落架系统PHM技术，现有方法主要包括基于专家系统、基于模型和基于数据驱动3类：Yang提出了基于专家系统的系统部件特征分析故障预测方法；Holmes等通过精确的非线性回归模型证明了记录的飞机飞行参数与起落架产生的载荷之间的相关性，利用飞机降落数据训练贝叶斯多层感知网络以估计起落架侧向载荷，为故障预测提供依据；Byington等提出了一种基于神经网络的起落架健康状况评估方法；Chen等提出了改进模糊C均值算法以监测起落架收放系统健康状态；Dziendzikowski等利用运行载荷检测系统分析

不同阶段对起落架疲劳磨损的影响，以实现对飞机的视情维修；Sartor和Schmidt[11]概述了一种用于起落架结构的载荷监测方法，利用运动学模型和载荷监测数据分析起落架在其生命周期任意时刻的疲劳状态，从而预测剩余使用寿命。

面对日益复杂的飞机起落架系统，基于专家系统的健康管理方法暴露出知识不完备、规则难以配置的问题，而基于数据驱动的方法面临由于故障数据稀缺而导致的数据不平衡、解释性不强的难题，因此采用基于模型的方法以贴合对象物理机制，挖掘健康知识，建立对象系统的数字模型既作为数据平衡来源，也作为信息支撑，服务于诊断预测等健康管理任务，为系统视情维修和状态评估提供决策支持。

然而基于模型的方法往往由于系统的动态演化过程无法精确描述而限制了诊断预测等任务的准确率。近年来，随着信息物理系统（Cyber- Physical System，CPS）的发展[12]，数字孪生（Digital Twin，DT）驱动的PHM技术[13]应用而生，其在信息空间中建立一个物理实体或真实系统的数字化模型，根据物理世界的反馈不断更新或自我学习，完成对系统的高度映射，从而全面地监测评估系统的参数指标，降低产品全生命周期管理的难度，可靠高效地完成健康管理任务[14]，解决传统PHM技术知识不完备、数据不平衡和模型固化等问题[15]。

在DT驱动的PHM技术领域，国内外学者开展了多方面的研究。Wang等[16]针对高压釜从有限元仿真角度出发，利用网格法计算生成数据，但该种方法所建立的数字孪生模型用来补充缺失的故障数据仅仅是对物理世界的模拟，缺乏与物理世界的动态交互，难以描述系统在全生命周期的健康演化过程，L[12]、Ye[17]等通过建立动态贝叶斯网络（Dynamic Bayesian Networks，DBN）跟踪时间相关变量的演化，并校准时间无关变量，用于未来机翼或航天器结构的裂纹预测，以DBN为方式建模考虑了模型的更新问题，但建模难度高、计算复杂，面对大型复杂系统需要严密烦琐的建模推理过程；Piltan等[18]针对轴承设计了一种反馈反推观测器用于信号的建模估计，利用改进支持向量机算法分析残差实现故

障分类，但实际系统的健康状态往往需要综合考虑多状态量，在数据源多维的场景具有一定局限性。

综上分析，现有数字孪生驱动的健康管理技术缺少模型动态更新问题的可靠解决途径，同时在基于模型的诊断预测方案设计方面存在一定局限。因此本文提出一种基于数字孪生的健康管理技术框架及其体应用方法，旨在起落架健康管理领域克服传统PHM技术的缺点，尝试为DT驱动的PHM技术提供一种新思路。

# 1 数字孪生驱动的起落架健康管理框架

根据美国国家航空航天局（National Aeronautics and Space Administration, NASA）2020年技术分类报告[19]，基于数字孪生的PHM技术以高保真物理模型为基础，集成综合运载器健康管理（Integrated Vehicle Health Management, IVHM）系统的传感数据、历史数据实现状态评估从而使系统具有全面的诊断和预测能力。因此总结DT驱动的PHM在实际工程应用时问题主要集中于以下3方面：

1）如何建立高保真的数字孪生模型，以解决专家知识不完备、数据驱动方法数据不平衡或解释性不强的问题。

2）如何进行数字孪生模型动态自更新，以保持与真实系统的镜像一致性，解决传统模型方法模型固化的问题。

3）如何充分利用真实系统传感数据与模型信息设计可靠的诊断预测方案，解决现有DT驱动的PHM技术在健康管理任务方案设计方面的难题。

本文提出基于数字孪生的起落架健康管理技术应用框架示意图（见图1），从物理和行为2个维度建立起落架数字孪生模型，基于强化学习算法根据系统真实传感测量更新健康表征参数以完成交互层的模型跟踪任务，利用孪生模型的数据支撑、状态估计等健康信息完成服务层诊断预测等健康管理任务，以观测- 更新- 利用的方式覆盖起落架系统全生命周期的健康管理，最后以收放系统为例，通过实验验证该方法在具体应用时所展现的实时性、准确性、鲁棒性方面的优势。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/2a495063830fa2e4d903a7c08bcdcb1ea109e6adba6b712088edbbb24dd3da07.jpg)  
图1基于数字孪生的起落架健康管理框架 Fig.1 Lending gear health management framework based on digital twin

# 2 起落架数字孪生健康管理技术

针对数字孪生驱动的健康管理框架中所论述的3个问题，给出如下的起落架数字孪生健康管理技术路线，从孪生模型建立、孪生模型更新、孪生模型利用3个角度开展飞机起落架数字孪生健康管理技术应用研究。

# 2.1 起落架数字孪生模型建立

数字孪生模型是本文起落架健康管理框架的基础与核心，其既作为数据平衡的来源提供系统预期响应，也作为健康信息的来源支撑诊断预测等任务。因此本文从物理和行为2个维度分别建立数学模型与因果图模型，模拟真实系统运行，描述系统状态行为，完成对物理世界的映射。

# 2.1.1 基于物理机制的起落架数学模型

从系统动力学出发，以物理机制作为建模依据，描述系统工作过程，建立预期输出与真实系统响应保持一致的起落架数学模型。

对起落架进行子系统层级的划分，基于物理

机制描述系统或部件的连续状态变化。以起落架收放系统为例，其关键部件包括液压泵、作动筒、各类阀门等。

液压泵在工作过程中可视为简化的压力调节泵，由变量活塞缸、恒压阀组成。

其泵内流量取决于泵两端的压差和轴转速，流量- 压力特性公式为

$$
q_{\mathrm{2nom}} = k_q\frac{Q}{k_p} \tag{1}
$$

式（1)可近似为一个分段函数，在压力设定点即最大全流量前后服从不同压力系数。在起落架收放过程中，泵入口压差泵入口压差  $p_{\mathrm{pump}} \leq \frac{p_{\mathrm{t}}}{p_{\mathrm{pump}}}$  时泵保持全流量输出，实现快速移动；  $p_{\mathrm{t}} \leq p_{\mathrm{pump}}$  时恒压阀通过调节阀芯位置控制出口排量，使得出口压力稳定在预设值，即

$$
Q = \left\{ \begin{array}{ll}Vn_{\mathrm{p}} - k_{1}p_{\mathrm{pump}} & p_{\mathrm{pump}}\leqslant p_{\mathrm{t}}\\ k_{2}\big(p_{\mathrm{max}} - p_{\mathrm{pump}}\big) & p_{\mathrm{t}}\leqslant p_{\mathrm{pump}}\leqslant p_{\mathrm{max}} \end{array} \right. \tag{2}
$$

式中：  $q_{\mathrm{2nom}}$  为泵内流量；  $p_{\mathrm{pump}}$  为泵入口压差；  $p_{\mathrm{t}}$  为压力设定点即最大全流量；  $k_{1}, k_{2}$  为压力设定点前后液压泵流量服从的不同压力系数；  $p_{\mathrm{max}}$  为零流量输出压力；  $V$  为液压泵排量，  $\mathrm{mL} / \mathrm{r}$ ;  $n_{\mathrm{p}}$  为泵轴转

速，  $\mathrm{r} / \mathrm{min};k_{q}\cdot k_{p}$  分别为流量比例因子、压差比例因子，作为气蚀和磨损等形式的健康表征参数。

液压泵内排量  $D_{\mathrm{displ}}$  由一阶微分方程计算

$$
\frac{\mathrm{d}\left(D_{\mathrm{displ}}\right)}{\mathrm{d}t} = \frac{\left(\frac{q_{2\mathrm{nom}}}{n_{\mathrm{p}}} - D_{\mathrm{displ}}\right)}{\tau} \tag{3}
$$

式中：  $\tau$  为泵排量一阶时间常数函数

出口流量可视为结合了泵容积效应的有效流量，计算公式为

$$
q_{\mathrm{p}} = \frac{D_{\mathrm{displ}}n_{\mathrm{p}}}{1000} f\left(q_{0\mathrm{top}}\right) \tag{4}
$$

式中：  $q_{\mathrm{p}}$  为泵出口流量；  $f\left(q_{0\mathrm{top}}\right)$  用以转换参考压力下到给定压力下的泵出口流量。

轴上转矩由泵排量和压差计算得出

$$
T_{\mathrm{torque}} = \frac{D_{\mathrm{displ}}\rho_{\mathrm{pump}}}{20\pi\eta} \tag{5}
$$

式中：  $T_{\mathrm{torque}}$  为泵轴上转矩；  $\eta$  为机械效率因子，作为气蚀和磨损等形式的健康表征参数。

最后，设置流量比例因子、压差比例因子、机械效率因子来模拟泵气蚀或磨损等退化形式。

作动筒以主起收放作动筒为例分析工作机制，作动筒在工作过程中可视为双液压腔、单杆千斤顶和带无弹性止动件的液压缸的组合，工作过程可用公式描述为

$$
F_{\mathrm{force}} = p_1A_1 - p_2A_2 - M_{\mathrm{mass}}g\sin \theta \tag{6}
$$

$$
a_{\mathrm{acc}} = \frac{F_{\mathrm{force}} - C_{\mathrm{coul}}\mathrm{sign}(v) - v_{\mathrm{vis}}v}{M_{\mathrm{mass}}} \tag{7}
$$

$$
q_{\mathrm{leak}} = \left(p_{1} - p_{2}\right)L_{\mathrm{leak}} \tag{8}
$$

$$
\frac{\mathrm{d}P}{\mathrm{d}t} = \frac{B_{\mathrm{eff}}(P)Q(P)}{V_{\mathrm{eff}}(P)} \tag{9}
$$

$$
V_{\mathrm{vol}} = A_1x + D_{\mathrm{dead1}} \tag{10}
$$

$$
F_{\mathrm{inflow1}} = q_1 - q_{\mathrm{leak}} - vA_1f\left(q_{0\mathrm{top}}\right) \tag{11}
$$

式中：  $p_1\cdot p_2$  为作动筒两端压力；  $A_{1}\cdot A_{2}$  分别为压力作用横截、环形面积；  $M_{\mathrm{mass}}$  为作动筒移动块总重；  $g$  为重力；  $\theta$  为作动筒与水平面角度；  $F_{\mathrm{force}}$  为作用在作动筒上的合力；  $C_{\mathrm{coul}}$  为库仑摩擦力，  $v_{\mathrm{vis}}$  为黏滞摩擦系数；  $v_{\mathrm{v}}a_{\mathrm{acc}}$  分别为作动筒质量块的线性一维速度、加速度；  $L_{\mathrm{leak}}$  为泄露系数，  $B_{\mathrm{eff}}(P)$  为当前压力  $p_1\cdot p_2$  下的有效体积模量计算函数；  $Q(P)$  为当前压力下进入作动筒容腔的净流量转换函数；  $V_{\mathrm{eff}}(P)$  为当前压力下作动筒容腔有效体

积计算函数；  $q_{\mathrm{leak}}$  为泄露流量；  $V_{\mathrm{vol}}$  为一端腔室内的流体体积；  $F_{\mathrm{inflow1}}$  为一端腔室内的入口流量；  $q_{1}\cdot q_{2}$  为一端腔室的端口流量；  $D_{\mathrm{dead1}}$  为一端死区体积。

基于物理机制建立各类阀门及收放系统其他部件模型，确定部件耦合关系，关联不同部件间输入输出，给定系统输入，基于物理公式计算推导得到起落架系统状态量及输出量，模拟其循环工作过程，将其作为数学模型，以此为依据模拟真实系统运行。

# 2.1.2 基于行为过程的起落架因果图模型

数学模型以物理机制为依据模拟真实系统运行，是孪生模型在物理维度上对真实系统的映射，但其关于对象的信号传递、行为过程描述不全面。飞机起落架作为多能域复杂系统，有必要对其进行简化，抽象到信号层级，在行为维度完成对真实系统的映射。

NASA提出一种从系统键合图模型中转化得到的时间因果图（Temporal Causal Graph, TCG)模型，该模型本质上一种信号流图，明确捕获了故障对系统变量的影响征兆从而实现定性故障诊断。本文省略键合图推导阶段，从2.1.1节中建立的基于物理机制的起落架数学模型中转化得到简化后的因果图模型范式。

因果图模型  $M$  的组成元素包括顶点与连接线，顶点代表系统变量，连接线代表变量间的能量转移关系，其方向表示变量间的因果关系。根据因果图模型范式定义，给出因果图模型概念为

$$
M = (V,C) \tag{12}
$$

式中：  $V$  为变量集合，由5个不相交的集合组成。包括：  $U$  为输入集合，代表系统已知循环输入量；  $X$  为状态变量集合，系统动力学过程由该集合中的元素描述；  $Y$  为输出集合，对应于系统可测量的响应输出量；  $\theta$  为参数（常量）集合，代表系统不可变常量参数，用以计算系统状态量，如作动筒泄露系数  $L_{\mathrm{leak}}$  ，活塞杆弹性模量  $E = 207\mathrm{GPa}$  、泊松比  $\mu = 0.3$  等；  $A$  为辅助变量集合，用以辅助模型的构建和解析，如泵内排量微分变量  $D_{\mathrm{displ}} = \mathrm{d}\left(D_{\mathrm{displ}}\right) / \mathrm{d}t$  ；  $C$  为约束集合。每个约束  $c =$

$(\epsilon_{c}, V_{c}) \in C$  由一个包含变量  $V_{c}(V_{c} \in V)$  的方程  $\epsilon_{c}$  组成, 其用于明确变量间因果关系。

明确模型定义后, 以起落架收放系统为例,

从2.1.1节物理机制数学模型中以正则匹配划分变量集合, 明确系统变量因果关系, 梳理约束条件, 得到其部分因果图模型如图2所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/2be627c5170d9fd1765cbea4bf71abbf04f9a8eda4406a355f43c662e6ee49a1.jpg)  
图2 起落架收放系统因果图模型 Fig. 2 Causal model of landing gear extension/retraction system

# 2.2 起落架数字孪生模型自更新

为应对传统基于模型的健康管理方法所存在模型固化的问题, 采用基于强化学习算法的孪生模型自更新方法, 将模型跟踪问题视为实时参数更新问题, 以保持与真实系统的镜像一致性。

在本文起落架应用场景下, 真实系统向孪生模型提供循环输入值与传感输出量, 孪生模型通过强化学习算法在最优控制策略指导下更新调节相关健康表征参数, 使得孪生模型有效跟踪真实系统响应, 完成物理世界对孪生模型的交互。

在缩小与真实系统的响应偏差后, 孪生模型可以继续提供最新时刻的系统状态估计, 为故障预测任务提供准确、可靠、实时的系统健康信息, 从而为视情维修等进一步的健康管理任务提供决策支持, 完成孪生模型对物理世界的交互。

以往关于参数标定的研究大多从控制领域或统计领域发展起来的概率或估计方法出发, 但这些方法普遍存在基础模型不完整[24- 26]、计算成本过高、效率低等多方面的问题; 近年来基于数据驱动的端对端映射方法解决了效率问题, 但其把跟踪问题转化为有监督学习[27], 过分依赖于训

练数据集的质量与体量, 且在新场景应用时需要重新训练, 在大规模系统级应用或存在较大测量噪声的条件下表现一般。综合实时性、准确性、鲁棒性多方面的考虑[28], 本文利用基于强化学习的模型跟踪方法, 通过最优控制策略修正孪生模型健康表征参数, 实现模型自更新。

# 2.2.1 马尔可夫决策过程建模

飞机起落架孪生模型(Digital Model, DM)在模拟系统物理行为的过程中, 在输入  $u_{t}$  、健康表征参数  $\theta_{t}$  下, 提供了系统真实输出量  $y_{t}$  的最佳估计  $\hat{y}$ , 同时根据状态方程得到系统状态量的最佳估计  $\hat{x}$ , 因此模型跟踪问题可描述为

$$
\begin{array}{rl} & {(\hat{x},\hat{y}) = \mathrm{DM}(u_t,\theta_t)}\\ & {\theta_t = \pi (\hat{x},\hat{y},y_{t + 1},u_{t + 1})}\\ & {\hat{y}\approx y_t} \end{array} \tag{14}
$$

强化学习框架将跟踪问题通过马尔可夫决策过程（Markov Decision Process, MDP）建模[28], 应用最大熵深度强化学习算法来训练一个智能体agent, 如式(14)所示, agent通过找到最优控制策略  $\pi (\hat{x}, \hat{y}, y_{t + 1}, u_{t + 1})$  选择动作, 即更新孪生模型健康表征参数, 以保持模型响应与观测值

的匹配，最终达到式（15）的跟踪目标。

在如上的问题描述下，起落架模型跟踪MDP模型可通过五元组  $(S,A,C,T,\rho)$  描述。其中  $S$  为状态集，包括系统输出量、状态量、输入量，即  $S_{t} = \left\{\hat{x}_{t},\hat{y}_{t},y_{t + 1},u_{t + 1}\right\}$  ，以收效系统为例，确定状态集  $S$  为

$$
S = \left\{\underbrace{\mathcal{L}_{a1},\mathcal{L}_{a2},\mathcal{L}_{a3},\mathcal{Q}_{\mathrm{p}},\mathcal{P}_{\mathrm{pump,p}}}_{y},\underbrace{\mathcal{V}_{a1},\mathcal{P}_{\mathrm{inflow,a1}},\mathcal{T}_{\mathrm{torque,p}}}_{x},\underbrace{\mathcal{H}_{\mathrm{p}}}_{u}\right\}
$$

式中：下标a1、a2、a3分别代表主起收放作动筒、主起下位锁、主起上位锁；下标p表示液压泵。

$A$  为动作集，即系统需要跟踪的健康表征参数  $\theta_{t}$  ，选取跟踪参数  $\theta_{t} = \{k_{\mathrm{p}},L_{\mathrm{leak}_{\mathrm{t}}},v_{\mathrm{vis}_{\mathrm{t}}}\} ,k_{\mathrm{p}}$  为泵压差比例因子，其值影响泵排量、转矩等过程；  $L_{\mathrm{leak}_{\mathrm{t}}}$  为主起收放作动筒泄漏系数，其值影响作动筒行程、速度等；  $v_{\mathrm{vis}_{\mathrm{t}}}$  为主起收放作动筒粘滞摩擦系数，其值影响作动筒收放时间等。

$C(s,a,s')$  为奖励/成本函数，用以评估跟踪效果，定义奖励函数为系统真实状态值  $x_{t},y_{t}$  与预测值  $\hat{x}_t,\hat{y}_t$  的均方根误差（Root Mean Squared Error,RMSE)。

$T(s,a,s') = p(s'|s,a)$  为状态转移函数，对应于所建立数字模型的动态过程

$$
\begin{array}{l}{x_{t + 1} = f(x_t,u_t,\theta_t)}\\ {y_{t + 1} = h(x_{t + 1},\theta_t)} \end{array} \tag{18}
$$

式中：  $f,h$  分别为状态转移方程和观测方程；  $\rho (s)$  为初始状态概率分布。

# 2.2.2 基于AC算法的参数更新过程

采用AC（Actor- Critic）算法，以起落架孪生模型作为训练环境，提供系统动力学过程，agent根据环境反馈计算奖励，寻求最优控制策略 $\pi (\hat{x}_t,\hat{y}_t,y_{t + 1},u_{t + 1})$  来选择下一步动作，即跟踪参数  $\theta_{t + 1}$  。Actor和Critc网络被建立以求解最优控制策略，由Critc网络完成基于值函数（Value- based）的策略评估，即对当前策略  $\pi$  所对应的状态值函数  $V^{\pi_s}(s_t)$  和动作值函数  $Q^{\pi_s}(s_t,a_t)$  的直接估计

$$
V^{\pi_s}(s_t) = \mathrm{E}_{a_t,\pi_{\rho},s_{t + 1}\sim P}\Bigg[\sum_{\kappa = t}^{T}\gamma^{\kappa -k}r'(s_\kappa ,a_\kappa)|s_t\Bigg] \tag{19}
$$

$$
Q^{\pi_s}(s_t,a_t) =
$$

$$
\mathrm{E}_{a_{t + 1}\sim \pi_{\rho},s_{t + 1}\sim P}\Bigg[T\sum_{k = t}^{T}\gamma^{\kappa -k}r(s_{\kappa},a_{\kappa})|s_{t},a_{t}\Bigg] \tag{20}
$$

根据Critc网络对值函数的估计由Actor网络完成基于策略梯度（Policy Gradient- based）的策略优化，即最大化累计奖励折扣函数

$$
J(\pi) = \mathrm{E}_{\tau \sim \rho}\sum_{t = 0}^{\infty}\gamma^t r(s_t,a_t) \tag{21}
$$

式中：  $r(s_t,a_t)$  为时间  $t$  处根据状态集  $s_t$  、动作集  $a_t$  设置的自定义奖励函数；  $\gamma \in [0,1)$  为折扣因子；  $\pi$  为当前策略；  $\mathrm{E}_{\tau \sim \rho}$  为当前策略下的状态转移信息分布计算；  $J(\pi)$  为累计折扣奖励。给出AC算法伪代码如算法1所示。

# 算法1强化学习AC算法

# Algorithm 1 Reinforcement learning AC algorithm

算法 强化学习AC算法

输入：学习率等超参数

输出：网络结构与控制策略  $\pi$

1. for each iteration do: 
2. Sample  $s_0$  according to  $\rho$  
3. for each time step do: 
4. Sample  $s_t$  from  $\pi (s)$  and step forward 
5. Observer  $s_{t + 1},\pi_t$  
6. Store  $(s_t,a_t,r_t,s_{t + 1})$  in DM 
7. end for 
8. for each update step do: Sample minibatches of transitions from DM 
10. Update  $\pi$  with gradients 
11. Update networks with soft replacement 
12. end for 
13. end for

如图3所示，以孪生模型作为训练环境，指导agent进行迭代训练，同步更新Actor和Critc网络，并最终收敛得到最优控制策略，实际部署时应用当前最优控制策略，根据真实系统循环输入与传感输出实时修正孪生模型相关健康表征参数  $\theta_{t}$  ，从而平稳跟踪系统响应。

# 2.3 基于起落架数字孪生模型的诊断预测方案

围绕起落架孪生模型开展诊断、预测等健康管理任务，充分利用模型信息，而不依赖于局限的专家知识或大体量的有监督训练集数据，并同时兼顾实时性、准确性、鲁棒性等方面的优势。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/b3265148e3928a6ac0a6e84e64e76b7577014b7a95336d5c746c79181c508386.jpg)  
图3 基于强化学习的模型跟踪过程

Fig.3 Model tracking process based on reinforcement learning

在诊断阶段，孪生模型既作为标称观测器提供预期响应输出供残差分析，也作为故障事件分析的知识库组织信号特征向量供故障隔离，最终从故障事件的角度出发完成诊断任务。

在预测阶段，经过自更新的孪生模型提供系统最新时刻的状态估计，为基于粒子滤波的状态量递推提供健康信息，结合失效阈值函数完成失效循环次数概率分布估计。

# 2.3.1 基于事件的故障诊断方案

# 1）故障事件信号特征提取

以起落架收放系统为例，根据2.1.2节的因果图模型，分析故障机制，列举主要故障模式，对于每个故障事件  $f,$  给定其故障特征集合  $S_{f} =$ $\{S_1,S_2,\dots ,S_n\}$  其中  $S_{i} = \left(y;s_{\mathrm{magnitude}},s_{\mathrm{slope}}\right)$  为因果图输出集合  $Y$  中系统响应变量在当前故障事件下的信号分析元组，  $s_{\mathrm{magnitude}},s_{\mathrm{slope}}\in \{0, + , - \}$  用以定性地捕获监测到残差时信号的幅度、斜率的预期变化方向。以图2中局部放大图为例，作动简泄漏导致作动简  $\mathrm{inflow}_1$  下降且趋势递增，表现

为“一十”；经“一1”反向传播后，因  $v_{\mathrm{tot}}$  与inflow无直接关系，在作动简  $\mathcal{V}$  上表现为“  $+0^{\ast}$  ，作动简放下速度提升；再经积分关系后，在  $\mathcal{X}$  上表现转化为“十一”。

在因果图上执行逆向传播函数[29- 30]得起落架系统典型故障事件信号特征表如表1，表中信号优先级顺序（MeasurementOrderings，MO）针对于当前故障事件，由因果图中因果顺序得出。

# 2）残差分析与符号生成

持续监测孪生模型与真实系统测量残差 $r(k) = y(k) - \hat{y} (k)$  。其中，  $y$  为测量值，  $\hat{y}$  为孪生模型标称系统输出。为排除环境噪声等影响，首先基于乙检验确定残差的统计显著性以判定当前时刻  $k_{0}$  处信号是否为异常；判定为异常后在信号幅度及其斜率两个维度上比较实际信号与标称值，返回一种包含“  $0 + - ^{3}$  个元素的符号方案，整体流程图如图4（a)所示；图4（b)为各符号在残差轨迹上含义及必要转换公式[31]。其中， $N_{1},N_{2},N_{3}$  为3个滑动窗口，分别计算截至时间戳 $k_{0}$  处信号序列样本方差  $\hat{\sigma}^2 (k_0)$  信号在时间戳  $k_{0}$  处的残差期望估计  $\hat{\mu}_{N_2}(k_0)$  、时间戳  $k_{0}$  处信号判定为异常后的样本残差期望估计  $\mu_{N_3}(k_0 + N_3)$ $\mu_{\mathrm{d}}(k_0 + k),\sigma_{\mathrm{d}}^2 (k_0 + k)$  为判定为异常后  $[k_0,k_0+$ $k]$  区间内信号“平均斜率”的期望、方差估计； $\sigma_{\mathrm{r}}^{2}(k_{0}),\sigma_{\mathrm{r}}^{2}(k_{0} + k)$  为判定异常后信号残差方差估计；  $z = z_{+}$  代表在显著性水平  $\alpha = 0.05$  下的置信区间。

# 3）故障隔离

传统基于因果图的故障隔离方案随着系统响应测量信号的到来逐步隔离故障，并最终收敛至可靠故障候选集。本文希望在故障隔离后保

表1起落架收放系统故障事件特征

Table 1 Landing gear retraction system failure event signature  

<table><tr><td>故障</td><td>qD</td><td>pPump</td><td>p1</td><td>Finflow1</td><td>v</td><td>x</td><td>信号优先级(Measurement Orderings)</td></tr><tr><td>泵泄漏</td><td>+0</td><td>--</td><td>-0</td><td>--</td><td>-0</td><td>--</td><td>pPump &amp;lt; qD</td></tr><tr><td>作动筒泄漏</td><td>++</td><td>--</td><td>--+</td><td>--+</td><td>+0</td><td>+--</td><td>Finflow1 &amp;lt; v &amp;lt; x, p1</td></tr><tr><td>节流阀阻塞</td><td>-0</td><td>--+</td><td>+0</td><td>-0</td><td>-0</td><td>--</td><td></td></tr><tr><td>油滤污染</td><td>+--</td><td>--+</td><td>--0</td><td>--0</td><td>+--</td><td>--0</td><td></td></tr><tr><td>作动筒磨损</td><td>00</td><td>00</td><td>+0</td><td>--0</td><td>+--</td><td>--0</td><td>Finflow1 &amp;lt; v &amp;lt; x, p1</td></tr></table>

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/870ede6fc1c510760f8a4ef47df8d636d0df94a2e9d5424f62502afe4308f48a.jpg)  
图4 残差分析与符号生成 Fig.4 Residual analysis and symbol generation

留多个故障候选项的置信度估计，因此提出基于编辑距离的模糊匹配故障隔离方案。

编辑距离（Levenshtein Distance）指两字符串间相互转化所需的最少编辑操作次数，编辑操作包括插入、替换、删除。随着真实系统工作过程中传感信号的到来，进行2检验下的残差分析生成信号特征符号，组织当前系统响应特征向量，与表1中的故障事件向量相匹配，通过动态规划算法解得各故障事件与当前特征向量的相似度（Fuzzy Matching Scores）。给出基于编辑距离的模糊匹配算法伪代码如算法2所示。

通过编辑距离算法给出当前系统特征向量与各故障事件下的特征向量模糊匹配分数，设定置信度分数阈值，高于阈值的故障事件作为故障候选项，从而完成故障隔离任务。图5给出了基于事件的诊断方案整体流程。

# 2.3.2 基于粒子滤波的故障预测方案

在系统健康管理领域，预测的任务集中在预测组件何时会失效。基于模型的方法将预测问题简化为联合状态参数估计问题，这种预测方法往往面临较大的不确定性，粒子滤波算法因其广泛的适用性、易于实现性、对不确定性管理的支

# 算法2 基于编辑距离的模糊匹配故障隔离算法 Algorithm 2 Fuzzy matching fault isolation algorithm based on levenshtein distance

<table><tr><td>算法</td><td>基于编辑距离的模糊匹配故障隔离算法</td></tr><tr><td colspan="2">输入:系统响应特征向量Vmeasure = Sf+MO
      故障事件信号特征间量Vsignature = Sf+MO
输出:模糊匹配近似度 fuzzy matching scores</td></tr><tr><td>1.</td><td>n= len(Vmeasure), n= len(Vsignature)</td></tr><tr><td>2.</td><td>initialize matrixDm×n</td></tr><tr><td>3.</td><td>temp = 
  {0 Vmeasure[i] == Vsignature}
  1 其他</td></tr><tr><td>4.</td><td>insert; D[i-1,j] + 1</td></tr><tr><td>5.</td><td>delete; D[i,j-1] + 1</td></tr><tr><td>6.</td><td>swap; D[i-1,j-1] + temp</td></tr><tr><td>7.</td><td>for i,j in D;</td></tr><tr><td>8.</td><td>D[i,j] = min(insert,delete,swap)</td></tr><tr><td>9.</td><td>Distance = d[n][m]</td></tr><tr><td>10.</td><td>fuzzy matching scores = 1 - Distance / max(n,m)</td></tr></table>

持而成为常用的选择之一[32- 34]

在数字孪生健康管理框架下，经过自更新后的模型可以为粒子滤波算法提供当前时刻接近于真实物理世界的系统初始响应估计及后续可靠动态过程，进而完成故障预测任务。

将式（17）、式（18）起落架孪生模型动态过程

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/ec882c91e94f364490bfaf8a4372b8e29d4b2033a1fd8223c104dad78540858b.jpg)  
图5 故障诊断流程Fig.5 Fault diagnosis process

扩充为

$$
\begin{array}{rl} & {\dot{\pmb{x}} (t) = f(t,\pmb {x}(t),\pmb {\theta}(t),\pmb {u}(t),\pmb {v}(t))}\\ & {\pmb {y}(t) = h(t,\pmb {x}(t),\pmb {\theta}(t),\pmb {u}(t),\pmb {v}(t))} \end{array} \tag{23}
$$

式中：  $t\in \mathbb{R}$  为连续时间向量；  $\pmb {x}(t)\in \mathbb{R}^{n_{\mathrm{t}}}$  为状态向量；  $\pmb {\theta}(t)\in \mathbb{R}^{n_{\mathrm{t}}}$  为健康表征参数向量；  $\pmb {u}(t)\in \mathbb{R}^{n_{\mathrm{t}}}$  为输入向量；  $\pmb {v}(t)\in \mathbb{R}^{n_{\mathrm{t}}}$  为过程噪声向量；  $f$  为状态转移方程；  $\pmb {y}(t)\in \mathbb{R}^{n_{\mathrm{y}}}$  为输出向量；  $\pmb {n}(t)\in \mathbb{R}^{n_{\mathrm{y}}}$  为测量噪声向量；  $h$  为观测方程。

由此将强化学习马尔可夫建模过程中的状态转移函数转化为一个健康表征参数  $\theta (t)$  以未知的方式演化的一般非线性模型。健康表征参数  $\theta (t)$  初始值由模型自更新阶段推理得出，利用更新后的模型产生截至时间  $t_{\mathrm{p}}$  的观测序列，使用该观测序列给定时间点  $t_{\mathrm{p}}$  的故障失效时间（End Of Life，EOL）预测。EOL在对系统级应用场景而言应定义为部件不再满足一组功能要求之一的时间点[34]，该功能要求可以用一个阈值来表示，超过这个阈值即认为组件失效，将该阈值表示为系统状态和参数的函数，具体函数为

$$
T_{\mathrm{EOL}}(x(t),\theta (t)) = \left\{ \begin{array}{ll}1 & \text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if}\text{if} \end{array} \right. \tag{24}
$$

基于粒子滤波算法的故障预测可分为以下2个步骤[33]。

# 1）当前时刻状态估计

粒子滤波器中的状态分布近似于一组离散的加权样本，近似为

$$
\left\{\left(x_{k}^{i},\theta_{k}^{i}\right),\omega_{k}^{i}\right\}_{i = 1}^{N} \tag{25}
$$

式中：  $N$  为粒子数；  $k$  为当前时间戳；  $x_{k}^{i}$  为每个粒子的状态向量估计；  $\theta_{k}^{i}$  为参数向量估计；  $\omega_{k}^{i}$  为粒子权重，其后验概率为

$$
p\left(x_{k},\theta_{k}|\mathbf{y}_{0:k}\right)\approx \sum_{i = 1}^{N}\omega_{k}^{i}\delta_{(x_{k}^{i},\theta_{k}^{i})}\left(\mathrm{d}x_{k}\mathrm{d}\theta_{k}\right) \tag{26}
$$

式中：  $\delta_{(x_{k}^{i},\theta_{k}^{i})}\left(\mathrm{d}x_{k}\mathrm{d}\theta_{k}\right)$  为  $(x_{k}^{i},\theta_{k}^{i})$  处的狄拉克（Dirac- delta）方程。

2）状态变量的趋势外推与估计

根据文献[3]，对起落架应用场景而言，将“循环次数”作为指标衡量剩余使用寿命或故障失效时间更为合理。以步骤1)中的联合状态参数估计  $\rho (x_{k},\theta_{k}|\mathbf{y}_{0:k})$  作为  $k$  时刻系统的最新知识，得到向前  $n$  步的近似状态参数预测分布为

$$
\begin{array}{rl} & {\rho (x_{k + n},\theta_{k + n}|\mathbf{y}_{0:k})\approx}\\ & {\quad \sum_{i = 1}^{N}\omega_{k}^{i}\delta_{(x_{k + n}^{i},\theta_{k + n}^{i})}(\mathrm{d}x_{k + n}\mathrm{d}\theta_{k + n})} \end{array} \tag{27}
$$

向外递推  $n$  步结束一次循环，重复过程，可将EOL预测近似为

$$
p\left(\mathrm{EOL}_k|\mathbf{y}_{0:k}\right)\approx \sum_{i = 1}^{N}\omega_k^i\delta_{\mathrm{EOL}_k}\left(\mathrm{dEOL}_k\right) \tag{28}
$$

以起落架收放系统为例，设定其未来输入轨迹以表示实际系统的循环收放工作过程。在该假设未来输入轨迹下，采用重要性重采样（Sampling Importance Resampling，SIR）方法实现粒子重采样步骤，在单步重采样过程对参数  $\theta$  进行随机游走，应用状态方程  $f$  完成新状态的采样过程；根据观测方程  $h$  指定粒子权重，赋予接近真值的粒子更高的权重。权重归一化后基于均匀分布选取权重累计分布函数（Cumulative Distribution Function，CDF）继续执行重采样过程，围绕高权重粒子不断执行演化。给出SIR伪代码如算法3所示。

以式（29）、式（30）为阈值函数，将每个粒子向前递推至其EOL，最终得到所有粒子到达EOL的循环次数概率分布。

$$
T_{\mathrm{EOL}(\mathrm{pump})} = =
$$

$$
\left\{ \begin{array}{ll}1\max \left(P_{\mathrm{p}}\right)\leqslant 18\mathrm{MPa},\max \left(q_{\mathrm{p}}\right)\leqslant 10\mathrm{L} / \min \\ 0\quad \text{其他} \end{array} \right.
$$

$$
T_{\mathrm{EOL}(\mathrm{a l})} = \left\{ \begin{array}{ll}1\max \left(x_{\mathrm{a l}}\right)\leqslant 219\mathrm{mm},t\left(x_{\mathrm{a l}}\right)\geqslant 10\mathrm{s},\\ \max \left(F_{\mathrm{a l f l o w.a l}}\right)\leqslant 8\mathrm{L} / \min \\ 0\quad \text{其他} \end{array} \right.
$$

式中：  $\max \left(P_{\mathrm{p}}\right)$  为液压泵压力最大值；  $\max \left(q_{p}\right)$  为泵流量最大值；  $\max \left(x_{\mathrm{a l}}\right)$  为作动筒位移最大值；  $t\left(x_{\mathrm{a l}}\right)$  为作动筒收起放下时间；  $\max \left(F_{\mathrm{inflow.a l}}\right)$  为作动筒端口流量最大值。

# 算法3 重要性采样（SIR）

# Algorithm 3 Sampling importance resampling

# 算法 重要性重采样（SIR）

算法 重要性重采样（SIR）1. 输入：  $\{(\boldsymbol{x}_{k - 1}^{i},\boldsymbol{\theta}_{k - 1}^{i}),\omega_{k - 1}^{i}\}_{1 = 1}^{N},u_{k - 1,k},y_{k}$  2. 输出：  $\{(\boldsymbol{x}_{k}^{i},\boldsymbol{\theta}_{k}^{i}),\omega_{k}^{i}\}_{1 = 1}^{N}$  3. 初始状态随机游走，分配粒子权重for  $i$  in  $(1,N)$ $\begin{array}{rl} & {\theta_{k}^{i} = \theta_{k - 1}^{i} + \xi_{k - 1}^{i},\xi_{k - 1}^{i}\sim N\left(\mu ,\sigma^{2}\right)}\\ & {x_{k}^{i} = \rho \left(j\left|x_{k - 1}^{i},\theta_{k - 1}^{i},u_{k - 1}^{i}\right.\right.}\\ & {\left.\left.\omega_{k}^{i} = \rho \left(h\left|x_{k}^{i},\theta_{k}^{i},u_{k}\right.\right.\right.} \end{array}$  end fornormalize  $\omega_{i}^{i}$  4. 旧粒子集中重采样得到新粒子集 $i\gets 1$ $u_{1}\sim U_{\mathrm{CDF}}(0,1 / N)$  for  $j$  in  $(1,N)$ $\begin{array}{l}{u\leftarrow u_{1} + (j + 1) / N}\\ {\mathrm{while}u > \mathrm{CDF}_{i}\mathrm{do};}\\ {i\leftarrow i + 1} \end{array}$  end while $x_{k}^{i},\theta_{k}^{i},\omega_{k}^{i}\leftarrow x_{k}^{i},\theta_{k}^{i},\frac{1}{N}$  end for

# 3 实验验证与结果分析

3 实验验证与结果分析以起落架收放系统为例，依托于起落架数字孪生健康管理技术，对建立的数字孪生模型开展验证，并以观测- 更新- 利用的路线设计相关实验开展验证，证明本文所述方法在具体应用时所展现的实时性、准确性、鲁棒性方面的优势。

# 3.1 数字孪生模型可靠性验证

# 1)真实系统仿真验证

因可公开的起落架真实数据集有限，从研究角度出发，本文利用仿真数据代替真实数据开展实验验证。以起落架收放系统为例，基于AMESim软件建立其仿真模型代替真实系统，通过仿真手段完成对真实系统不同阶段下的工作过程模拟。参照胡晓青等[35]的研究，搭建起落架收放系统模型如图6(a)，给出具体参数表如表2，以其在3DMotion下的动画模拟效果（见图6（b））及在正常收放工况下的结果（见图6（c））验证AMESim仿真模型的有效性。

在如图6（a）所设计起落架仿真模型下，仿真结果如图6（c）所示，  $0\sim 2$  s液压泵开始工作，调节

泵出口压力稳定至  $20.7\mathrm{MPa};2\sim 9\mathrm{s}$  ，电磁换向阀换至“左位”，液压泵出口压力下降至 $20.4\mathrm{MPa}$  左右，出口流量增至  $11.3\mathrm{L} / \min$  附近，在压力油作用下上/下位锁打开锁钩并驱动收放作动筒开始“收起”动作，  $9\mathrm{s}$  时作动筒到位；  $14\mathrm{s}$  时液压泵压力回升至  $20.7\mathrm{MPa}$  ，电磁换向阀换至“中位"到  $17\mathrm{s};17\sim 27\mathrm{s}$  ，电磁换向阀换至“右位”，作动筒开始“放下”动作；  $27\mathrm{s}$  后，压力回升，电磁换向阀保持“中位”。

由仿真结果可知在正常工作模式下，起落架收起放下时间在所设计的  $6\sim 10\mathrm{s}$  范围内，各部件响应符合性能指标，并在与3DMotion联合调试中展现了如图6（b）所示完整的收起放下过程，因此，基于AMESim软件建立的仿真模型代替真实系统进行后续实验验证具有一定的说服力。

# 2）李生模型可靠性验证

2）李生模型可靠性验证以AMESim中建立的主起落架收放系统液压回路作为真实系统，将其输出与2.1.1节中所建立的物理机制数学模型的响应进行对比，以关键参数变化曲线说明2.1.1节数学模型的正确性，以联合仿真展现的完整收放过程进一步论证从2.1.1节数学模型中所推出的因果图模型的可靠性。以液压泵出口流量和作动筒入口流量为例，上述2个参数的正确性直接决定了主起落架收放回路工作过程的正确性，如图7所示，2.1.1节数学模型得到的关键部件输出与AMESim模型中仿真状态量基本保持一致，因此可基于本文建立的起落架数字孪生模型开展健康管理应用任务。

# 3.2 健康管理任务实验验证

3.2 健康管理任务实验验证为论证本文所述基于数字孪生的起落架健康管理技术应用价值，设计相关实验，相继开展诊断、更新、预测验证，实验环节相互承接，诊断阶段根据孪生模型与真实系统残差进行分析隔离，更新阶段通过对健康表征参数的更新缩小故障出现后理想孪生模型与真实系统出现的偏差，预测阶段利用孪生模型最新时刻的状态估计完成失效时间估计。图8为健康管理任务实验流程示意图。

# 3.2.1 故障诊断实验验证

以AMESim模型的输出作为故障诊断过程

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/76c6575be01f543dcf3aaa7f6498da55d64b7d0b35f49de50cb82b891e2eebad.jpg)  
图6 AMESim仿真模型有效性说明 Fig.6 Validity description of AMESim simulation model

中的真实信号，以2.1节数字孪生模型作为标称观测器。如图9所示，在不同的故障模拟下，基于事件的故障诊断方法在因果图中标记的状态量

上表现出不同的故障征兆，图9（a）为通过调节主起收放回路中节流阀的孔径完成的节流阀堵塞故障模拟，图9（b）为调整泄漏系数完成的作动筒

表2AMESim仿真模型参数

Table 2 AMESim simulation model parameters  

<table><tr><td>元件模型</td><td>参数</td><td>数值</td></tr><tr><td>液压马达</td><td>轴转速/(r·min-1)</td><td>5 000</td></tr><tr><td rowspan="3">油滤</td><td>孔径/mm</td><td>6</td></tr><tr><td>临界流数</td><td>2 320</td></tr><tr><td>最大流量系数</td><td>0.7</td></tr><tr><td rowspan="3">上位锁</td><td>活塞直径/mm</td><td>25</td></tr><tr><td>活塞杆直径/mm</td><td>12</td></tr><tr><td>活塞行程/mm</td><td>55</td></tr><tr><td rowspan="4">主起收放作动筒</td><td>活塞直径/mm</td><td>85.55</td></tr><tr><td>活塞杆直径/mm</td><td>36.449</td></tr><tr><td>活塞行程/mm</td><td>219.4</td></tr><tr><td>运动部件等效质量/kg</td><td>2.8</td></tr><tr><td rowspan="2">溢流阀</td><td>阀开启压力/MPa</td><td>21</td></tr><tr><td>阀流量压力梯度/(L·min-1·MPa-1)</td><td>200</td></tr></table>

泄漏故障模拟。在图9（a）中，  $t = 7\sim 8\mathrm{s}$  的状态量差异仅被诊断器判断为延迟，  $t = 22\sim 25\mathrm{s}$  处的变化被诊断器判断为异常，将置信区间设置为0.95，在Z检验下得到式（31），即‘  $+$  slope'，结合残差幅值得到此时故障特征为‘－magnitude $+$  slope'；同理，在图9（b）中，故障特征判断为‘－magnitude－slope'。

$$
\mu_{\mathrm{d}} - z_{+}\sigma_{\mathrm{d}} > z_{+}\frac{\sigma_{\mathrm{r}}}{\sqrt{N_{3}}} \tag{31}
$$

以作动筒泄漏故障为例完成故障诊断实验，随着工作过程中信号的到来，结合信号优先级顺序组织故障特征向量，利用编辑距离算法与故障特征（见表1)中各故障事件征兆向量匹配，动态规划解得相似度分数，得到故障候选集，并保留置信度估计。

因果图本质上是一种信号流图，而TEAMS- RT算法作为一种基于多信号流图的经典故障诊断算法也得到了广泛应用，通过建立起落架收放系统的多信号流图，利用TEAMS- RT算法分析故障- 测试性矩阵  $(D)$  和测试向量，建立对照实验。给出2种算法故障隔离效果的比较如表3所示，由表可知，在本文所述应用场景下，相比于多信号流图模型‘01'模式的  $D$  矩阵，因果图模型在更精确的征兆符号下，实时性、准确性表现更优，

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/a0af4e7ef094a155b02521bca7399e3105382d1774b12d7089dac0921eaa8823.jpg)  
Fig.7 Reliability description of digital twin model

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/10b0ebec88018ee6353d35241007bc00c039e22128b6d88b0540b49ade1c7450.jpg)  
图8 实验验证流程图 Fig.8 Experimental verification flow chart

并以85分作为置信阈值，保留了模糊集的置信度估计。

# 3.2.2 孪生模型自更新实验验证

承接故障诊断实验环节，检测到异常并正确隔离故障后，为跟踪真实系统状态响应，采用强化学习框架修正孪生模型健康表征参数，从而为后续健康管理任务提供状态估计等系统健康信息。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/966f85d9483b71dd1f308c13b3e8b237643cf90ca8ab5a76f715dd15d94a899c.jpg)  
图9 Z检验残差分析结果 Fig.9 Z-test residual analysis results

# 表3 故障诊断算法比较

Table 3 Comparison of fault diagnosis algorithms  

<table><tr><td rowspan="2">故障模式</td><td colspan="2">多信号流图</td><td colspan="3">因果图</td></tr><tr><td>故障候选集</td><td>推理时间/s</td><td>故障候选集</td><td>置信度分数</td><td>推理时间/s</td></tr><tr><td>作动筒泄漏</td><td>|作动筒泄漏，油滤污染|</td><td>0.07</td><td>|作动筒泄漏，泵泄漏|</td><td>|88,86|</td><td>0.001</td></tr><tr><td>节流阀堵塞</td><td>|节流阀堵塞，作动筒磨损|</td><td>0.03</td><td>|节流阀堵塞|</td><td>|91|</td><td>0.001</td></tr></table>

实验过程主要分为训练和部署2个步骤： $①$  利用数字孪生模型为训练过程产生模拟数据，在迭代训练过程后得到最优控制策略； $②$  通过AMESim产生真实系统在不同工况下的模拟仿真数据，部署当前最优控制策略，完成模型跟踪的实验验证。

由3.2.1节的故障诊断过程确定当前系统故障为作动筒泄漏，设计以作动筒泄漏系数作为跟踪参数的实验。以2.1节建立的数字孪生模型产生在给定负载输入条件下，作动筒泄漏系数leak以均等步长范围，从0变化到  $5\times 10^{5}\mathrm{L}\cdot \mathrm{min}^{- 1}\cdot \mathrm{Pa}^{- 1}$  的500条系统收放工作过程轨迹，作为强化学习AC

算法训练集。

如图10神经网络结构所示，本文使用全连接神经网络作为强化学习框架中的Critic网络和

Actor网络，每层256个神经元，以ReLU作为激活函数，以Adam作为优化器，网络超参数设置如表4。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/86bdfa39a6209d2fff976360b86be47a42ed45dfc68bbb6cbcc1be914dea4cfc.jpg)  
图10 强化学习AC算法网络结构 Fig.10 Reinforcement learning AC algorithm network structure

Table 4 Network hyperparameter settings  

<table><tr><td>超参数</td><td>数值</td></tr><tr><td>批尺寸(Batch Size)</td><td>256</td></tr><tr><td>Actor网络学习率(Learning Rate)/10-4</td><td>2</td></tr><tr><td>Critic网络学习率(Learning Rate)/10-4</td><td>2</td></tr><tr><td>折扣因子γ</td><td>0.995</td></tr><tr><td>衰减率(网络软更新)/10-3</td><td>1~5</td></tr></table>

在100万步的迭代训练过程后保存模型最优控制策略，图11给出了当前策略在整体训练集上的表现以及在随机抽取的数据轨迹上的具体效果。由图11(a)可知，在整体训练集上，算法控制参数保持在真值附近，由图11(b)看出在随机抽取的数据轨迹的具体表现上，在当前控制策略下跟踪参数轨迹中位数与真值贴近，上下四分位数也在合理范围内，但仍有部分离群点出现，分析是因为起落架收放系统在一次工作过程循环中的开始结束阶段输出量保持稳定，与系统所更新健康表征参数关联性不强，因此在这2个阶段，

当前强化学习的控制策略无法给出合理跟踪值导致出现离群点。

通过AMESim仿真模型代替真实系统生成作动筒泄漏实验数据，将系统工作循环输入和传感测量输出量作为当前最优策略的输入，不断更新孪生模型健康表征参数，完成模型自更新应用验证，实验结果如图12所示。如图所示，部署阶段在最优控制策略的作用下，孪生模型预期输出与真实系统响应贴近，基本保持对物理世界映射的镜像一致性。

本文同时搭建深度神经网络（Deep Neural Networks，DNN）的端对端直接映射神经网络，采取与强化学习算法完全一致的实验环境作为对照实验，DNN网络结构如图13所示。

给出在本文所述应用场景下2种算法的性能对比见表5，由表可知，强化学习AC算法相比端对端有监督学习方法，在实际应用时部署速度更快，误差（RMSE）更小，且在一定噪声干扰下仍能保持较好的效果，其在实时性、准确性、鲁棒性方面表现效果均优于DNN。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/6e9142d00d5a50007ed3f46937f681ebd1aeffce7e40fffe890e40dbf03bae32.jpg)  
图11 强化学习AC算法训练阶段效果 Fig.11 Reinforcement learning AC algorithm training stage

# 3.2.3 故障预测实验验证

承接模型自更新环节，根据3.2.2节的模型自更新结果，修正李生模型健康表征参数，更新系统状态转移方程和观测方程，以模型跟踪收敛至稳定值为起点，得到系统当前时刻最新初始状态

图14以收放系统主起作动简为例给出了围绕模型自更新完成后系统初始状态在SIR过程下粒子的随机游走过程，在给定状态量随机游走方差下，结合后验传感测量值分配权重，得到下一时刻粒子分布，与实际真值接近。

为选取最优算法参数以保证故障预测准确率，设计相关对比实验，表6给出在不同粒子数目和随机游走方差下粒子滤波算法的表现效果。由表可知，粒子数量减少和随机游走方差的增大会造成状态估计的准确性下降，但对于主起收放作动筒最大位移  $0.2194\mathrm{m}$  和最大流量  $11.87\mathrm{L} / \mathrm{min}$  的状态量  $x_{\mathrm{al}}$ 、 $F_{\mathrm{inflow,al}}$ ，RMSE不会造成明显的状态估计偏差。

从当前时刻的状态估计向外递推状态量趋势，完成本次收放过程推理；之后假定系统遵循

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/c1deca6d84ab2c5064ee88f0e6d570b4c73ec3e267370495f20c7c0ef421b683.jpg)  
图12 强化学习算法验证效果 Fig.12 Reinforcement learning algorithm verification results

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/5f56b61df6b222255aed3792c74f37b022c32c23e752870cd77480e11fe49732.jpg)  
图13 DNN网络结构 Fig.13 DNN network structure

相同收放过程输入循环完成失效循环次数预测。

泄露系数  $L_{\mathrm{leak}}$  在0.1衰减系数的假定下，当前状态故障下的系统率先达到作动筒失效阈值函数，确定系统到达EOL的循环次数概率分布如图15(a)所示，系统预测分布概率总和为1，预计将在第31个工作循环中达到失效条件。由图15(b)中的AMESim中的仿真结果可知，31个循环后在  $5\times 10^{5}\mathrm{L}\cdot \mathrm{min}^{- 1}\cdot \mathrm{Pa}^{- 1}$  的泄漏系数下，作动筒放下时间超出式（30）阈值范围达到失效条件，由此可知预测结果与实际仿真结果基本保持一致。

表5模型跟踪算法对比

Table 5 Model tracking algorithm comparison  

<table><tr><td rowspan="2">算法</td><td>准确性</td><td colspan="2">实时性</td><td>鲁棒性</td></tr><tr><td>RMSE/(105
L·min-1·Pa-1)</td><td>训练速度/s</td><td>部署速度/(10-3·s)</td><td>在60 dB信噪比下的RMSE/(105L·min-1·Pa-1)</td></tr><tr><td>AC</td><td>0.167</td><td>24 000</td><td>1.37</td><td>0.204</td></tr><tr><td>DNN</td><td>0.243</td><td>100</td><td>1.68</td><td>0.276</td></tr></table>

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/eb1785cb0cfa11712be40c605710bc5ffc0558d60df52f5a95acf08fb6a6350e.jpg)  
图14 初始状态单步估计 Fig.14 Initial state single-step estimation

表6预测算法实验效果

Table 6 Prediction algorithm experiment results  

<table><tr><td>粒子数</td><td>随机游走方差相乘系数</td><td>RMSE_xa1/m</td><td>RMSE_Finflow_a1/(L·min-1)</td></tr><tr><td rowspan="2">100</td><td>1</td><td>2.17×10-1</td><td>0.922</td></tr><tr><td>10</td><td>3.48×10-1</td><td>1.050</td></tr><tr><td rowspan="2">1 000</td><td>1</td><td>5.81×10-1</td><td>0.721</td></tr><tr><td>10</td><td>2.31×10-1</td><td>1.540</td></tr></table>

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/fc11fb36-4e1e-4490-bdba-3449c95e8935/b495b7f7bd0b910a439ca6063760c9cc42b130a5e9d05b95af7d5ed2b897c421.jpg)  
图15 失效循环次数预测 Fig.15 Prediction of cycles to failure

# 4 结论

1）提出了一种基于数学孪生的飞机起落架健康管理框架，以可自更新的数字模型为基础解决故障诊断与预测问题，克服了传统健康管理方式缺点，并能够有效应对数字孪生技术在实际工程应用中的挑战。

2）应用本文所述健康管理技术，可建立起落架系统数字孪生模型，完成基于事件的故障诊断，通过更新健康表征参数自更新模型以保持与物理世界的映射一致性，并依据更新后的状态及

观测方程完成故障失效时间预测

3）以起落架收放系统为例，完成实验验证，本文所述基于数字孪生的健康管理技术在实时性、准确性、鲁棒性等方面表现良好，为复杂机电装备的健康管理技术提供一种新思路。