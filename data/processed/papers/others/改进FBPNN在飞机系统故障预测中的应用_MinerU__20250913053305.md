摘要：针对飞机故障预测问题展开研究，提出一种改进的模糊BP神经网络（Fuzzy BP Neural Network，FBPNN）故障预测模型。在FBPNN第二层中，选取影响系统状态评估的多个因素，为各因素确定隶属度值，并利用方差- 协方差法给每个因素的隶属度值赋权值，来减小传统FBPNN直接由专家经验选取已有的单因素隶属度函数或它们的演化形式带来的主观性，从而得到更满足实际要求的预测模型，最后利用MATLAB结合飞机襟缝翼系统的相关数据进行仿真研究。结果证明，改进的FBPNN较传统FBPNN具有更好的预测效果。

关键词：飞机故障预测；改进的FBPNN；隶属度函数；隶属度矩阵确定；方差- 协方差法（中图分类号：TH16；V227；TP206）文献标识码：A 文章编号：1001- 3997（2019）07- 0123- 04DOI:10.19356/j.cnki.1001- 3997.2019.07.031

# Application of Improved FBPNN in Aircraft System Fault Prediction

LI Yao- hua, SHANG Jin- qiu, XIAN Ni- jun (College of Engineering, Civil Aviation University of China, Tianjin 300300, China)

# 1引言

近年来随着民航业的快速发展，现代信息技术的重大进步使得飞机的各系统越来越趋于集成化和复杂化。系统的各模块之间密切衔接同时又互相影响，某个部件发生异常却没能立即发现可能引起链式反应，甚至造成系统整体瘫痪，带来无法预计的利益亏损。所以迫切需要能够尽早识别故障的“视情维修”和“预知维修”方法支撑。FBPNN因其结合BP神经网络的学习能力及模糊系统的知识表达，能够将实际获得的定量信息与模糊描述进行转换，已成为常见的动态系统故障预测方法。在使用传统的FBPNN预测故障时，隶属度函数值通常根据专家经验选取已有的单因素隶属度函数或它们的演化形式来确定，然而这种隶属度函数值虽然计算方便，却没能从数据自身特点出发，无法准确地反映数据的分布情况，预测结果的误差较大。针对传统FBPNN的

局限性，结合影响系统状态评估的多个因素，为各因素确定隶属度值，并利用方差- 协方差法给每个因素的隶属度值赋权值，得到改进的FBPNN预测模型，以飞机襟缝翼为例验证其实用性。

# 2 模糊BP神经网络

# 2.1模糊BP神经网络

模糊BP神经网络是模糊理论和BP神经网络相融合的结果，保持BP神经网络的基本特性和结构不变，并将模糊概念与模糊推理规则引进到网络的节点或权值中。将BP神经网络的输入作为模糊系统的精确输入值传送到模糊化接口，依照其模糊等级划分和隶属度函数变换成合适的模糊值。得到的模糊值传送到模糊推理机中，参照知识库里的知识和要求，采用“if- then”规则转换成某种映射。再将处理后的模糊量传送到反模糊化接口转换成精确值，将精确值处理后作为BP神经网络的输出。

# 2.2 隶属度函数

模糊概念是由隶属度函数定量表述的，隶属度函数作为模糊概念集合的特征函数，将表述事件时传统的0和1两个元素扩展到[0，1]区间连续取值。

设在论域  $X$  上给定映射  $\mu_{\mathrm{A}}\colon X\to [0,1]$ $\mathcal{X}\to \mathcal{Y}$  则称  $\mu_{\mathrm{A}}$  确定了  $X$  上的某个模糊集合，记作  $A,\mu_{\mathrm{A}}$  即是  $\mathcal{A}$  的隶属度函数，  $\mu_{\mathrm{A}}$  在 $x\in X$  点的数值  $\mu_{\mathrm{A}}(\omega)$  就是  $\mathcal{X}$  对  $\mathcal{A}$  的隶属度。

# 3 改进的FBPNN模型故障预测方法

# 3.1传统与改进的FBPNN模型的对比

传统FBPNN模型在预测故障时，常根据专家经验选取已有的单因素隶属度函数或它们的演化形式进行数值计算，形成隶属度矩阵，再分配因素的权重，最后将精确化后的数值作为BP网络的输出；改进的FBPNN模型则是在计算多因素的隶属度值后，采用方差- 协方差法，计算出各因素占总体的比例，再构建出隶属度矩阵。从隶属度矩阵构建可知，传统FBPNN模型在选择隶属度函数的过程中存在很大的主观性；而改进的FBPNN模型则结合了定量计算方法分析数据，更接近故障预测的实际情况。改进的FBPNN预测故障的过程，如图1所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-11/bd26c7d3-f6e9-45c7-ab15-9c94eb981520/47f9da117ed947f5b5d07bddb6fe2dc531a15be2fa83ea64732658a3de1aeedb.jpg)  
图1改进的FBPNN故障预测过程 Fig.1 Improved FBPNN Fault Prediction Process

# 3.2 隶属度矩阵确定方法

在确定隶属度矩阵时，首先要确定影响动态系统状态评估的因素，然后对系统状态进行综合评判形成评估集。对于多个因素在不同评价级别下的隶属程度不同，利用方差- 协方差法为其赋权重值，最后得到优化后的评价结果。

# 3.2.1确定因素集和评语集

对于动态系统的故障预测，需要建立因素集：

$$
U = \{u_{1},u_{2},u_{3},\ldots ,u_{s}\}
$$

式中：  $\mathcal{S}$  一系统故障共受到  $s$  个因素的影响

针对多个因素对系统状态进行综合评定，从而形成评语集：

$$
O = \{o_1,o_2,o_3,\ldots ,o_j\}
$$

式中：  $t$  一评语集中共有  $t$  个评价级别

对影响系统的各因素  $u_{i}$  分别评定得到  $f(u_{i})$  ，可看作集合  $U$  到集合  $O$  的某个模糊映射  $f_{i}$ $U\longrightarrow F(O)$  式中：  $f$  一个  $s^{\frac{1}{2}}$  矩阵，矩阵中的元素  $t$  即为隶属度，表示某因素对于某级评价的隶属程度，  $R(u)$  则为变量集中各因素对于评语集中各评价级别的隶属函数。

$$
u\to f(u) = \{r_{11},\dots r_{1t},r_{21},\dots r_{2t},\dots r_{1t},\dots r_{1t},\dots r_{1t},\dots r_{s1},\dots r_{s1}\} = R(u)
$$

由于因素集中各因素对系统的影响程度不一，因此需要为因素集  $U$  构建权重矩阵  $A = [a_{1},a_{2}$  为因素  $u_{i}$  在评语集中的权值。

# 3.2.2 确定隶属度矩阵

（1）同一评价级别的所有因素的隶属度均值

先得到影响系统状态的各因素在同一评价级别的隶属程度值，再求平均。

$$
\bar{f}_i = \frac{1}{s}\sum_{j = 1}^{s}f_{ij} \tag{1}
$$

式中：  $f_{i}$  一第  $i$  个因素在第  $j$  个评价级别的隶属度值；  $\bar{f}_i$  一各因素在第  $j$  个评价级别中的隶属度平均值。

$(2)$  同一评语集的所有因素的权重

设  $\{f_{1},f_{2},\dots ,f_{s}\}$  是  $s$  个因素在各评价级别中关于  $\bar{f}_i$  的无偏隶属度值  $f_{ij}$  是  $s$  个因素在各评价级别加权平均后的隶属度值，它们与  $\bar{f}_i$  的差值分别是  $\{e_1,e_2,\ldots ,e_s\}$  和  $e_{ij}$  。设  $w_{1},w_{2},\ldots ,w_{sj}$  是对应的权值系数，并且已知  $w_{1} + w_{2} + \dots +w_{sj} = 1$  ，那么可以得到：

$$
f_{ij} = w_{1}f_{ij} + w_{2}f_{ij} + \dots +w_{sj}f_{ij} \tag{2}
$$

若  $f_{ij}$  也具有无偏特性，则可以证明：

$$
e_{ij} = v_{1} + e_{2} + \dots +e_{sj} \tag{3}
$$

所以有  $f_{ij}$  的方差为：

$$
\mathrm{Var}(e_{ij})^2 = w_{1i}^2\mathrm{Var}(e_{ij}) + w_{2i}^2\mathrm{Var}(e_{ij}) + \dots +w_{sj}^2\mathrm{Var}(e_{ij}) \tag{4}
$$

关于上述公式对  $w_{1},w_{2},\ldots ,w_{sj}$  求极小值，借助拉格朗日乘子  $\lambda$  ，设：

$$
F_{i}\mathrm{Var}(e_{ij}) = w_{1i}^{2}\mathrm{Var}(e_{ij}) + w_{2i}^{2}\mathrm{Var}(e_{ij}) + \dots +w_{sj}^{2}\mathrm{Var}(e_{ij}) \tag{5}
$$

$$
G = w_{1j} + w_{2j} + \dots +w_{sj} - 1 \tag{6}
$$

$$
H = F + \lambda G = w_{1j}^{2}\mathrm{Var}(e_{1j} + w_{2j}^{2}\mathrm{Var}(e_{2j}) + \dots +w_{sj}^{2}\mathrm{Var}(e_{sj}) \tag{7}
$$

$$
+\lambda (w_{1j} + w_{2j}\dots +w_{sj} - 1) \tag{7}
$$

可得到：

$$
w_{1j} = \frac{1}{\mathrm{Var}(e_{1j})\left(\frac{1}{\mathrm{Var}(e_{1j}} + \frac{1}{\mathrm{Var}(e_{2j}} + \dots + \frac{1}{\mathrm{Var}(e_{sj}}}\right)} \tag{8}
$$

$$
w_{2j} = \frac{1}{\mathrm{Var}(e_{2j})\left(\frac{1}{\mathrm{Var}(e_{1j}} + \frac{1}{\mathrm{Var}(e_{2j}} + \dots + \frac{1}{\mathrm{Var}(e_{sj}}}\right)} \tag{9}
$$

以此类推求得  $w_{ij}$  的数值，最终得到对于第  $j$  个评价级别隶属度  $f_{j}$  为：

$$
f_{j} = w_{1j}f_{1j} + w_{2j}f_{2j} + \dots +w_{sj}f_{sj} \tag{10}
$$

# 3.3改进的模糊神经网络预测模型

改进的FBPNN是由输入层、模糊划分层、“组合”层、归一化层和输出层组成的。

第一层：为输入层，输入的是精确值，节点数是影响系统状态的因素个数，以2个节点为例。

$$
\left\{ \begin{array}{ll}I_i^{(1)} = x_i\\ O_i^{(1)} = I_i^{(1)} \end{array} \right.\quad i = 1,2 \tag{11}
$$

第二层：是输入变量的模糊划分层，完成了输入变量的模糊化转换。式（12）中，  $j$  一模糊分割数，即评语集中评价级别个数，以三个评价级别为例：  $\mu_{ij}$  一第  $i$  个变量的第  $j$  个隶属度值，由选定的隶属度函数  $f(I_{ij}^{(2)})$  求得，  $f(I_{ij}^{(2)})$  则由上文中式（10）求得；此时的连接权值是1。

$$
\left\{ \begin{array}{l}I_{i}^{(2)} = O_{i}^{(1)} \\ O_{ij}^{(2)} = \mu_{ij} = f(I_{ij}^{(2)}) \end{array} \right. \tag{12}
$$

第三层：“组合”层，用于描述模糊规则的适用情况，节点数是模糊规则数。此层连接权值也是1。

$$
\left\{ \begin{array}{l}I_{k}^{(3)} = O_{ij}^{(2)} \\ O_{k}^{(3)} = w_{ij}I_{k}^{(3)} \end{array} \right. \tag{13}
$$

第四层：实现适用度的归一化计算

$$
\left\{ \begin{array}{l}I_{k}^{(4)} = O_{k}^{(3)} \\ O_{k}^{(4)} = \frac{I_{k}^{(4)}}{\sum_{k = 1}^{6}I_{k}^{(4)}} \end{array} \right. \tag{14}
$$

第五层：将第四层各节点的输出转换成精确数值。其中， $w_{ik}$  表示第四层传递到第五层的权重值。

$$
\left\{ \begin{array}{l}I_{k}^{(5)} = O_{k}^{(4)} \\ O_{e}^{(5)} = \sum_{e = 1}^{2}w_{ek}I_{k}^{(5)} \end{array} \right. \tag{15}
$$

最后得到预测结果

# 4 仿真实现及实验分析

飞行操纵系统是影响飞行安全的主要系统之一，襟缝翼是飞行操纵系统的关键子系统。随着机体持续工作，襟翼系统的抗腐蚀能力和润滑持续时间减弱，致使零部件磨损过量，运行阻力加大，可能造成机械卡阻、传动效率低下。因此，对襟缝翼系统进行故障预测，根据监测的状态预知系统故障的时间，能够预防并且降低灾难性故障所造成的费用。

# 4.1 变量选择

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-11/bd26c7d3-f6e9-45c7-ab15-9c94eb981520/09f9ffb062b70b409168664e0380ca8062bda76ce411314ec759bde5f72065b0.jpg)  
图2角度差变化趋势图 Fig.2 Angle Difference Trend

因飞行姿态和气动特性所受到的磨损和润滑保持情况不相同，以至机身两侧襟翼运动角度不相同，发生襟翼不对称故障，此时襟翼位置指示器指针分开。根据机身两侧襟翼展开的角度差值，可以推测出襟翼系统磨损和润滑情况。另外，受飞机作业环境、驾驶因素、传感器测量噪声等影响，所记录的角度数据中往往包含噪声，使得故障预测的结果具有不确定性。分析相邻两个角度差之间的差值变化趋势能够有效地减少角度差值的噪声，也为维修提供依据。所以同时考虑角度差值及其两者之间差值共同作用下的故障预测结果。将某航空公司2014年某架B737- 800飞机飞行数据译码后的结果中299对左右后缘襟翼角度数据，分别

利用改进的FBPNN和传统FBPNN对其进行建模和预测。对于左右襟翼角度差来说，当其测量值超过9度时，认为其产生故障。但在实际操作中，角度差大于3度就会进行故障报告，以此作为阈值。部分角度差值变化趋势图，如图2所示。初始阶段数据略有起伏但变化平缓，然后曲线呈上升走向；当循环数在230左右时角度差值急剧下降，并再次有上升趋势。

# 4.2 参数确定

在改进的FBPNN中，针对角度差和相邻角度差之间的差值分别进行评价级别确定，对于角度差分为正常、退化和故障，对于相邻角度差之间的差值分为较高、一般、较低，并选用高斯隶属度函数。输入节点为2；第二层节点为6，分别对应上述六个评价级别；第三、四层节点均为9；第五层节点为1，表示期望的角度差预测值。

在传统FBPNN中，设定输入节点为6，将角度差序列中的每6个数据作为网络输入；第二层节点为18，即将每个输入量的模糊分割数均取为3，且分别代表正常、退化和故障，也选用高斯隶属度函数；第五层节点为1，表示期望的角度差预测值。

采用MATLAB设定网络的最大学习迭代次数为1000次，学习精度为0.005，惯性系数为0.05，创建和训练改进前后的两种网络。以角度差序列和角度差之差序列的前280个数据作为训练样本，后19个数据作为测试样本，得到改进的FBPNN预测结果，如图3、图4所示。以角度差序列的前280个数据作为训练样本，后19个数据作为测试样本，得到传统FBPNN预测结果，如图5、图6所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-11/bd26c7d3-f6e9-45c7-ab15-9c94eb981520/061195aeaf76e6adcbfa9c4216344abaff7ea34be3de43837ad5b11d6c42c0d6.jpg)  
图3改进的FBPNN预测与真值对比 Fig.3 Improved FBPNN Prediction vs. True Value

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-11/bd26c7d3-f6e9-45c7-ab15-9c94eb981520/1ecbdd0f0d0aee00d82a2769e6897b6f1f7d818f7c9d1b54ec1ee8e658366e2d.jpg)  
图4改进的FBPNN预测误差曲线 Fig.4 Improved FBPNN Prediction Error Curve

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-11/bd26c7d3-f6e9-45c7-ab15-9c94eb981520/93d395f76df9bdf7a45484b0496b01092073b17cb01379f0960b2d924b910656.jpg)  
图5FBPNN训练数据预测 Fig.5FBPNN Training Data Prediction

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-11/bd26c7d3-f6e9-45c7-ab15-9c94eb981520/1671d59588764531cb6b65e2831160e2a27c91f721a79a61f264e3f1679d1412.jpg)  
图6FBPNN预测结果 Fig.6FBPNN Prediction Results

# 4.3结果对比分析

为验证预测模型的有效性，在对网络进行充分训练后，利用测试样本得到13个测试样本的值及相对误差，如表1所示。

表1预测结果对比Tab.1 Comparison of Forecast Results  

<table><tr><td>序号</td><td>实际角度差</td><td>模糊BP网络预测角度差</td><td>相对误差(%)</td><td>改进后模型预测角度差</td><td>相对误差(%)</td></tr><tr><td>1</td><td>1.521</td><td>1.5062</td><td>0.973</td><td>1.5311</td><td>0.664</td></tr><tr><td>2</td><td>1.298</td><td>1.5809</td><td>-21.795</td><td>1.5498</td><td>-19.399</td></tr><tr><td>3</td><td>1.392</td><td>1.4317</td><td>-2.852</td><td>1.4180</td><td>-1.860</td></tr><tr><td>4</td><td>1.838</td><td>1.5291</td><td>16.806</td><td>1.6294</td><td>11.355</td></tr><tr><td>5</td><td>2.038</td><td>1.747</td><td>14.279</td><td>1.8303</td><td>10.191</td></tr><tr><td>6</td><td>2.214</td><td>2.0973</td><td>5.271</td><td>2.1654</td><td>2.195</td></tr><tr><td>7</td><td>2.314</td><td>2.2584</td><td>2.403</td><td>2.2962</td><td>0.769</td></tr><tr><td>8</td><td>2.243</td><td>2.1896</td><td>2.381</td><td>2.2682</td><td>-1.123</td></tr><tr><td>9</td><td>2.13</td><td>2.1896</td><td>-2.798</td><td>2.1300</td><td>0</td></tr><tr><td>10</td><td>2.293</td><td>2.3097</td><td>0.728</td><td>2.2809</td><td>0.528</td></tr><tr><td>11</td><td>2.234</td><td>2.3000</td><td>-2.954</td><td>2.1901</td><td>1.965</td></tr><tr><td>12</td><td>2.361</td><td>2.3385</td><td>0.953</td><td>2.3800</td><td>0.805</td></tr><tr><td>13</td><td>2.461</td><td>2.5312</td><td>-2.852</td><td>2.5035</td><td>-1.727</td></tr></table>

通过表1数据分析可知：

（1）两种模型相对误差大于  $10\%$  的个数均为3，但是改进的FBPNN的对应数值都相对较小；（2）FBPNN模型得到的预测结果中，其中，相对误差值在  $(-21.795)\%$  到  $16.806\%$  之间波动，平均相对误差为  $5.9265\%$  ，标准差为0.08892；而改进的FBPNN的相对误差数值在  $(-19.399)\%$  到  $11.355\%$  之间波动，平均相对误差为  $4.0447\%$  ，标准差为  $0.05649$  。改进的FBPNN的误差跨度、平均相对误差和标准差均有所减小。

由此可知，改进的FBPNN在隶属度函数确定方面存在一定优势，在预测结果上优于传统FBPNN。

# 5结束语

采用改进的FBPNN模型，通过方差- 协方差法优化多变量隶属度矩阵，改变网络训练结果，在一定程度上提高了预测的精度，且方法容易实现。为复杂系统故障预测提供了借鉴，具备一定的实用价值。