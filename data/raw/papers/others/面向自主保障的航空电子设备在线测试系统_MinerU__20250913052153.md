# 面向自主保障的航空电子设备在线测试系统

王邑，肖明清，周越文

（空军工程大学自动测试实验室，陕西西安 710038）

摘要：针对目前面向自主保障的故障预测与健康管理系统的开发与应用缺乏重要的实时数据和应用环境的问题，提出一种面向自主保障的航空电子设备的在线测试系统；该系统应用新的算法和信息处理结构，在维持在线检测基本功能的前提下，通过自主分析航空电子设备的异常，高层次物理模型和外部故障检测与故障预测算法，以及机上不断丰富的传感器和机上测试与健康管理装置，可逐步实现故障预测与健康管理及其相应的自主保障；给出了基于飞机在线检测系统的航空电子设备在线检测面向自主保障的初步方案，构建了基本信息获取途径和基于多元统计分析及混合SOM- RBF神经网络的机上在线异常检测的方法；该系统能够在线监测并识别多种复杂异常，且飞机本身不需进行任何改装，充分利用了储存和实时两种机上环境数据，并为进行在线和线下故障预测提供基础。

关键词：自主保障；PHM；在线测试；异常检测

# Autonomous Logistics Refinement in an Avionics On-line Test System

Wang Yi, Xiao Mingqing, Zhou Yuewen (ATS Lab, Air Force Engineering University, Xi'an 710038, China)

Abstract: To solve the problem of lack of real- time information and application environment, this article focuses on the Autonomous Logistics Refinement in an Avionics On- line Test System and proposed bunch of new algorithms and an information process framework through unsupervised analysis of the anomaly of avionics. Higher- level physics model and external diagnostics and prognostics algorithm as well as evolving onboard sensors and PHM equipments can be add to this framework thus apply full PHM and autonomous logistics gradually while maintaining the legacy on- line test capacity at any time. We proposed the initial application of the refinement, its information portal and the multivariable statistics based unsupervised anomaly detection algorithms under the fusion of SOM- RBF. No changes in on the airplane were needed, and this application method leverages both stored and real- time environmental information therefore can monitor many anomalies as well as be a basic application for on- line and off- line PHM.

Key words: autonomous logistics; PHM; on- line test; anomaly detection

# 0 引言

随着综合航电系统在飞机电子系统上的普遍采用，从机上总线可以获得丰富的自测试数据及机上系统的环境和状况数据。本文所研究的航空电子设备在线检测与健康管理系统提供了一个能够实时采集和分析记载健康状态的平台，该系统是传统周期式维修走向先进健康管理，面向航空电子设备自主保障的一个重要的中间产物。

在面向自主保障[1- 2]的新型飞机的综合故障诊断及预测系统的开发上，对于构建复杂物理模型，目前缺乏健康状况监控数据，而只能依赖使用实验室条件下分系统测试数据，且遇到以下两方面的问题：

（1）一些环境参数在实验室环境下是无法取得的，比如特殊的机上震动环境，电磁特性，高马赫数和温差，等，利用这些数据可以计算在工作条件下系统的应力累积，对航空电子系统的故障预测具有重要意义。

（2）如何将系统付诸实现是一个难题，自主保障信息系统，机上和机下PHM系统[3]目前未见具体实施，而系统的成熟化是一个长期的工作，如何利用现有测试设备来开发与应用

自主保障技术无疑是一个现实问题。

一种可行的思路是，利用机上现有数据，应用新的算法和信息处理结构，在维持在线检测基本功能的前提下，通过自主分析系统异常，高层次故障检测与故障预测算法，以及机上不断丰富的传感器和机上测试与健康管理装置，逐步实现故障预测与健康管理及其相应的自主保障。

本文提出了按照以上思路构建的在线测试系统，其利用现有飞机总线监测环境，集成了在线测试系统的检测能力。并给出了基于飞机在线检测系统的航空电子设备在线检测面向自主保障的初步方案，构建了基本信息获取途径和研究机上在线异常检测的方法。机下在线测试与基于现有测试环境，飞机本身不需进行任何改装，充分利用了储存和实时两种机上环境数据，利用已有的在线检测设备，在线监测并识别多种复杂异常。该方法为在线和线下故障预测提供基础。

# 1 系统整体设计

为了充分地利用已经列装的飞机在线测试环境和设备，系统在功能上主要分为自检装置、校验装置、环境模拟器、电源系统、通讯机箱及主控计算机等装置。其中，通讯机箱负责通过通讯电缆与机上总线系统连接，机上测试和监控设备实时传送各模块发出的自检和测试信息，以及总线上的状态信息。主控计算机负责对机上测试信息进行检测、分析及存储，并给出飞机状态与保障建议。系统还可以为以后装备的自主保障信息系统和线下健康管理系统预留通信接口，并配合执行任务。系统的整体框图如图1所示。

目前在线测试系统的主要功能是根据总线上基本量信息和

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/760611cf-a7ed-4455-9dcb-c9d98867a46c/c9eaf5aa6a491f0f04c6ba2a1a0ee7f38668ffb33096512f135003140406145a.jpg)  
图1 系统的整体框图

机上自测试系统的返回值，实时确定待检飞机的状况信息。为了完成数据采集和多元复杂异常检测，需要引入新的数据获取机制。目前采用两套数据采集与处理机制来处理机上设备的属性特征，其一是利用在线检测规程内的数据，这些数据以连续时间序列的方式，持续快速采集，可用于在飞机架次间发现异常并进行系统的故障诊断；另一种是用于预测故障的数据，要实现故障预测，涉及到获取范围更广和精度更高的任务、状态、环境、操作数据，这些数据采用在一个架次统一读取并保存的方法，使用线下分析，根据系统的综合性能来判断当前的状态。未来，由机上诊断能力提高的机上中央维护系统(CMS)[4]和具有先进传感器技术的板上测试系统[5]的列装，可以获取更加详细且实时的机上测试数据，此时可以加入新的基于模型或数据的故障预测算法，并与保障信息系统交联，应用故障预测与健康管理算法提供详细的保障信息。

# 2 算法设计

需要的算法是：

1）采取混合异常检测的方法，使用非监督或半监督方法实时判断机上传感器传下的连续时间序列值，判断电子设备中存在的不利于飞行的各种异常状态。

2）根据多元变量统计分析，给出异常状态中可能出现的故障原因，交由故障诊断与隔离算法进行进一步分析。

主要算法设计思路是：首先利用自组织神经网络(SOM)[6]进行系统工作域的树状区分，然后利用神经网络组合体和物理模型进行粗拟合，并将结果融合，利用统计量和统计量[7]检验指标对多元变量间的异常状态进行检验，并通过影响图确定故障可能出现的传感器和故障类型及生成结论。

# 2.1 多元变量统计分析结构

为了实现快速多元信号异常检测和故障定位，使用霍特林检验作为直接非参数统计检验[8]，统计量是无差别距离统计量[9]，即该统计量的大小与自变量向量中的各单位无关，因此适合将多路信号和属性变量组合在一起，同时运算统计量。其定义式如下：

$$
T^{2} = N(x_{-}^{-} - \mu)^{T}\mathbf{S}^{-1}(x_{-}^{-}\mu) \tag{1}
$$

式中，  $\bar{x}$  是容量为  $N$  ，维度为  $\mathcal{P}$  的样本均值向量，  $\mu$  为总体均值向量，  $\mathbf{S}$  为样本协方差矩阵，  $\mathbf{S} = (1 / N - 1)$ $\Sigma_{a - 1}^{N}$ $(x_{a} - \bar{x})$ $(x_{a} - \bar{x})^{T}$  为了消除渐进漂移的遮盖效应，  $\mathbf{S}$  取逐次差分形式，取  $n$  为周期采样，且  $\mathbf{S}$  降如下：

$$
S^{i} = \frac{1}{2(N - 1)}\sum_{i = 1}^{n - 1}(x_{i + n} - x_{i})(x_{i + n} - x_{i})^{T} \tag{2}
$$

项目中使用  $T^{2}$  统计量序列的峰度作为度量指标，峰度是峰值与宽度的比值，也是一种4阶距统计量。使用超额峰度，即标准化的峰度，定义式如下：

$$
k u r = \frac{m_{4}}{m_{2}^{2}} -3 = \frac{\frac{1}{n}\sum_{i = 1}^{n}(T_{i}^{2} - \overline{T}^{2})^{4}}{\left(\frac{1}{n}\sum_{i = 1}^{n}(T_{i}^{2} - \overline{T}^{2})^{2}\right)^{2}} -3 \tag{3}
$$

同时，为了实现传感器确证的目标，以及利用物理模型和已知的多元模型相关关系和环境因素等模型来共同确定系统当前工作的异常及传感器异常，引入了一个信号重建和检验模块。如图2所示，这个模块能够产生基于模型的传感器估计值，经过多元统计量分析和残量分析，通过比较原始的传感器观测和其估计值，可以发现各种异常和故障。其中，物理模型包括：（1）已知某传感器与其他传感器读数的确定关系时，直接给出该传感器的读数的估计值；（2）已知某传感器在当前系统工作状况时，具有一个粗估计值，直接给出该传感器的读数的粗估计值；（3）在物理模型不可得的时候，从神经网络本身得到传感器量测估计值等。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/760611cf-a7ed-4455-9dcb-c9d98867a46c/3b016022f03e8a1270a0cd46fd692ada3eb7f87fdcfe4a400c456dbbe0677dbf.jpg)  
图2在线测试多元变量统计分析流程

区分传感器故障和系统故障的过程是一个有监督过程（即存在人为想定影响）。采用残量统计量Q作为假设检验标准。当一小部分传感器量测的残量出现较大的偏差时，认为是传感器故障；而当大量传感器量测的残量出现较大偏差时，认为是系统故障。单传感器的残差异常可能是传感器故障，而多个传感器的残差异常可能是系统故障。

残量偏差  $Q$  统计量表示测量值  $f_{i}(t)$  对估计值  $\hat{f}_i(t)$  的偏离程度，对第  $i$  路信号的当前采样点有：

$$
Q_{i} = e_{i}e_{i}^{T} = (f_{i}(t) - \hat{f}_{i}(t))(f_{i}(t) - \hat{f}_{i}(t))^{T} \tag{4}
$$

可以使用量测平均来规范化残量：

$$
e_{i} = \frac{(f_{i}(t) - \hat{f}_{i}(t))}{\frac{1}{n}\sum_{j = -n}^{n}f_{i}(j)} \tag{5}
$$

然后计算残量的价值曲线：

$$
R_{Q} = \sqrt{\frac{1}{mn}\sum_{i = 1}^{m}Q_{i}} \tag{6}
$$

并估计总体残量的值。若小于指定阈值，则认为无异常，否则认为探测到异常。当出现大残量值，如高于某百分比，可认为传感器异常；当所有残量都高于随机误差，且大小相当，同时很高，则可能是系统故障，或可能模型需要重新训练。

# 2.2 传感器量度重建与验证模型

在信号重建和检验模块中，将RBF神经网络和SOM神经网络联合，构建了传感器信号的双层回归预测组合模型，并与物理模型并行使用，与物理模型的输出通过基于结论的混合模型来完成，该模型利用权重融合或者决策融合。双层回归预测组合模型的第一层上，使用自组织SOM网络来进行聚类分析，并将输入域分割为多个自治空间，而后，为每个RBF设定训练参数和输入域进行训练，并为每个RBF组构造一个误差模型，通过整合的误差模型预测RBF模型的误差，以此为依据进行权重分配。为了提高效率，将样本使用树形结构存储。

该模块的学习算法如下：

Step1：产生一个节点，将训练集赋予它，设置一个最小

训练集容量  $n t$  。

Step2：设  $\phi$  为赋予节点  $\rho$  的数据集，将其输入域  $P$  录入2元SOM生成算法，得到两个数据集  $\phi_{1}, \phi_{2}$  。

Step3：计算以上两个数据集的容量，将容量大于  $n t$  的数据集分类，当两者均小于或等于  $n t$  时结束。

Step4：循环2一3直到所有叶节点赋予了数据集。

Step5：将验证集  $T$  按照树结构的对应关系分区。

Step6：按照分区训练RBF，训练中可根据实时性要求，进行一次训练或使用不同的参数多次训练，将性能最优的RBF作为叶节点所在区域所对应的模型。

Step7：对一个未知数据点，先将其分类至某一个树叶节点，然后使用相应的RBF产生结果。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/760611cf-a7ed-4455-9dcb-c9d98867a46c/9365ba9086b5c59bb1f5c21f77aa77857de99f63f793c2ef63515fb635c7d21d.jpg)  
图3 信号重建和检验模块

信号的重建和检验模块的基本原理如图3所示。在已知传感器故障时，可根据物理模型和多元神经网络中的估计值，给出一个合理的该传感器的读数，这就是故障信号补偿的过程。由于估计值本身受到故障输入  $f_{j}(t)$  的影响，所以需要使用  $N$  重迭代法，来解除误差值的影响，即设一个迭代次数  $N_{iter}$  ，在每个迭代  $j$  上，让数据组第  $i$  个输入由前一迭代的输出  $f_{i}(j - 1)$  来代替，这是一种精度与鲁棒性权衡的方法。

# 3 实验分析

我们通过带有故障注入的硬件仿真平台实现了该系统功能仿真和开发。构建模块时，首先录入真实系统的数据，并设计了多种典型系统故障和异常的故障模式（如表1所示），然后按照突发故障、参数偏移、传感器失效等脚本，将这些故障模式写入数据仿真平台，并且与机上设备完全相同的方式传送至地面测试系统。故障注入信号的例子如图4所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/760611cf-a7ed-4455-9dcb-c9d98867a46c/59a3b68e211f50aab20aa71860818bab9ec7b85dd19c4caae60865a09a4a16fe.jpg)  
图4注入故障时的传感器度量的实例

通过仿真实验，对典型按照突发故障，参数偏移，传感器失效故障的故障注入数量和探测率，虚警率如表2所示。

表1故障注入类型  

<table><tr><td>功能组件</td><td>注入故障</td><td>分组</td></tr><tr><td>电源组件</td><td>退化</td><td>S4</td></tr><tr><td>板上断路器</td><td>常关</td><td>S1</td></tr><tr><td>板上换流器</td><td>常开</td><td>S2</td></tr><tr><td>功能负载</td><td>失效、异常</td><td>S3</td></tr><tr><td>功能负载</td><td>超速
慢速</td><td>S5
S6</td></tr><tr><td>板上延时器</td><td>常关、常开</td><td>S1
S2</td></tr><tr><td>状态传感器</td><td>电传,光耦,速度计,温度计等的偏移
角度计,速度计,温度计等的阻滞</td><td>S7
S8</td></tr></table>

表2故障检测率和虚警率  

<table><tr><td>故障编号</td><td>S1</td><td>S2</td><td>S3</td><td>S4</td><td>S5</td><td>S6</td><td>S7</td><td>S8</td></tr><tr><td>注入数量</td><td>300</td><td>300</td><td>200</td><td>400</td><td>400</td><td>500</td><td>200</td><td>200</td></tr><tr><td>检测率</td><td>97.67</td><td>96.00</td><td>96.50</td><td>97.75</td><td>96.00</td><td>96.60</td><td>97.50</td><td>96.00</td></tr><tr><td>虚警率</td><td>3.67</td><td>4.67</td><td>3.00</td><td>3.75</td><td>4.75</td><td>3.40</td><td>3.50</td><td>4.50</td></tr></table>

结合实验数据，我们可以看出，检测率和虚警率都在适当范围内，这表明本实验方法能够有效地判断突发故障和传感器失效故障。

在后续的试验中，我们还对比了较传统故障树法和单值阈值法，通过信号重建机制，降低虚警率，并且在结合后续诊断过程时，显著提高了故障发现率。

# 4 结论

本文给出了基于飞机在线检测系统的航空电子设备在线检测与健康管理系统方案，特点在于利用现有飞机在线测试环境。并集成在线测试系统的检测能力特别是物理模型诊断能力，并加入了非监督和半监督多元异常诊断能力。同时，使用新的数据获取方式能够在应用故障预测与健康管理算法时提供详细的保障信息，通过实验可以看出，该系统目前已经可以利用已有的在线检测设备，下一步将研究将多种PHM算法应用于该系统。

# 参考文献：

[1]李振翼，PHM对提升新一代飞机综合保障能力的研究[D]，电子科技大学，2009. [2]王绪智，张宝珍，国外PHM技术的发展动态及经验教训[A].2010航空实验测试技术学术交流会[C]，北京，2010：216- 219. [3]邢晨光，张宝珍，飞行器综合健康管理技术途径[A]，2008年航空试验测试技术峰会[C]，北京，2006：232- 236. [4]赵瑞云，中央维护系统概念及其应用[J]，航空电子技术，2005，36（2）.[5]王萍，张宝珍，国外航空发动机健康管理用先进传感器技术[A].航空实验测试技术学术交流会[C].北京，2010：313- 317. [6]于鹏，基于一维SOM神经网络的聚类及数据分析方法研究[D].天津：天津大学，2009. [7]刘飞，王一竹，基于Q统计量的工业过程监控实例分析[J].计算机与应用化学，2006，23（7）：631- 634. [8]Hotelling H. The generalization of Student's ratio [J]. Ann. Math. Statist，1931，2：360- 378. [9]Hsu P L. On the power functions for the E2- test and the T2- test[J]. Ann. Math. Statist，1945，16：278- 286.