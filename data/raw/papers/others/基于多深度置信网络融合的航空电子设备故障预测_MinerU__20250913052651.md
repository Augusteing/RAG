doi:10.3969/j.issn.1001- 893x.2021.02.019引用格式：梁天辰.基于多深度置信网络融合的航空电子设备故障预测.电讯技术，2021，61（2）：248- 253. [LIANG Tianchen.Fault prognostics of avionics equipment based on multi- deep belief network fusion .Telecommunication Engineering,2021,61(2):248- 253]

# 基于多深度置信网络融合的航空电子设备故障预测

梁天辰

（中国西南电子技术研究所，成都610036）

摘要：由于航空电子设备性能退化趋势与工作环境（温度、振动、负载等）存在强耦合关系，历史数据和实时数据分布存在难以量化的差异，因此航空电子设备的故障预测一直是业内难题。针对工程应用中的故障预测需求，提出了一种基于多深度置信网络（Multi- deep Belief Network，DBN）模型融合的故障预测方法，基于历史数据和实时数据对多个DBN模型进行含Dropout的迁移训练，有效解决历史域和目标域数据分布差异带来的预测偏差；采用改进遗传算法对DBN模型组进行融合，在迁移学习的基础上进一步提升故障预测的精准度。实验显示，所提方法预测的均方根误差为0.008，相对误差均值为  $0.9\%$  ，相关度为0.9647，预测精度高于单一DBN模型和支持向量机，在航空电子设备的故障预测领域有一定的应用价值。

关键词：航空电子设备；故障预测；深度置信网络；迁移学习

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/6481373db788d059999f639c028862ec2e50b80b299632fc0e23f718618aac5e.jpg)

# Fault Prognostics of Avionics Equipment Based on Multi-deep Belief Network Fusion

LIANG Tianchen

（Southwest China Institute of Electronic Technology,Chengdu 610036,China)

Abstract: Due to the strong coupling relationship between the performance degradation trend of avionics and changeable environment(temperature,vibration,load and other),it is difficult to quantify the difference between historical and real- time data distribution,which brings the fault prognostics for avionics an industry challenge.For the prognostics requirements in engineering,a prognostics method based on multi- deep belief network(DBN) model fusion is proposed.Firstly,according to historical and real- time data,transfer learning train with Dropout for DBN models is performed to solve prognostics bias caused by data distribution differences between historical and target domains.Secondly,the enhanced genetic algorithm is used for fusing DBN model group to further improve the accuracy of fault prognostics based on transfer learning.After experimental verification,the root mean square error value of the proposed method is 0.008,the relative error is  $0.9\%$  ,the correlation is 0.9647,and the prognostics accuracy is higher than those of a single DBN model and support vector machine,which has certain application value in the field of fault prognostics for avionics.

Key words: avionics equipment; fault prognostics; deep belief network; transfer learning

# 0 引言

随着航空电子设备在各类飞机平台的大量部署，设备对整机的重要性和运行安全性影响不断提高。由于航空环境应力对失效退化影响复杂多变，电子设备内部器件间不断交联影响，导致其故障往往具有明显的随机性和关联性。针对航空电子设备故障的随机关联问题，故障预测方法通过预置传感器获取到易损关键器件的历史数据，根据具体方法对器件历史数据进行挖掘建模，结合飞行中设备内器件的实时数据预测设备的整体退化降级状态。推进故障预测方法在航空电子设备的应用，将退化趋势与维修决策的制定相结合，可有效降低设备维修成本，提高设备运行安全，避免维修决策失误带来的灾难性后果。

目前，故障预测方法主要包括基于失效模型的预测方法和基于数据驱动的方法。基于失效模型的预测方法是根据专家经验，对元件故障机理、材料性质和外部负载等要素进行研究分析，以此建立准确的数学模型表征失效趋势。申海东基于热网络转换方法，设计建立了热阻与温度之间的数学模型，反应晶体管的性能退化。Tang等人使用截断正态分布建模方法来估计退化状态，并考虑测量不确定度和估计漂移参数的分布，以获得精确且封闭形式的锂离子电池剩余寿命分布。虽然以上方法通过实验验证了故障预测的准确性，但在实际应用中存在以下问题：一是预测模型的建立非常依赖于建模工程师的专业知识和工程经验，建模过程需要消耗大量人力且通用性较差；二是当预测对象失效特性复杂，实时负载环境与历史环境存在明显差异，准确的失效模型难以建立。

深度学习作为人工智能的重要分支已经在机械、医学和图像识别等领域取得突破性进展。多深度置信网络（Multi- deep Belief Network，DBN）是一种基于数据驱动的无监督深度学习模型，通过多级受限玻尔兹曼机（Restricted Boltzmann Machine，RBM）自动捕获原始数据中高质量的特征，实现性能降级趋势的高非线性拟合。DBN模型的优势在于可忽略设备内部器件的机理差异和数据分布差异，基于各器件的输出数据直接完成预测模型构建，特征提取能力相较于浅层学习模型有明显优势。但传统的深度置信网络构建只考虑历史数据的内在特性，且单一DBN的特征提取能力不足以修正实际场

景与历史场景间数据分布差异带来的预测偏差

针对航空电子设备的复杂工况和现有方法性能的不足，本文提出了基于多深度置信网络模型融合的智能预测方法。该方法首先采用迁移学习策略和Dropout机制对设备的关键器件数据进学习，构建多个符合实际场景的深度置信网络，提升多个模型特征提取的差异性；然后根据改进的遗传算法确认融合权重，将DBN模型组集成为完整的预测框架，避免传统深度置信网络构建对历史数据的过学习和特征提取能力不足问题；最后根据完整预测框架得到各易损器件的故障预测结果，结合预设的故障门限得出各器件的剩余寿命，取最小剩余寿命作为设备的剩余寿命预计值。

# 1 深度置信网络迁移训练

在航空电子设备的预测任务中，实时监测获取的数据量有限且符合目标域的概率分布，而其他工况下的历史数据符合源域的概率分布，与实时监测数据分布不同却存在内在联系，因此本文对DBN模型进行Dropout策略和跨域迁移训练，实现模型在应用场景的适应性修正。

# 1.1 受限玻尔兹曼机

如图1所示，受限玻尔兹曼机是DBN模型的组成单元，通过输入输出数据的差值最小化实现RBM的特征学习。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/2c6acbb811aeec49bfbe131f8700c41441c44cb8995563af398940ea3290cd04.jpg)  
图1 RBM结构图

图1中，  $\boldsymbol {v}_m\cdot \boldsymbol {a}_m$  表示可见层  $m$  节点的状态和偏置；  $h_n\cdot b_n$  表示隐含层  $n$  节点的状态和偏置，  $(v,h)$  对应的能量函数定义如下式：

$$
E(v,h;\theta) = \frac{m}{\sum_{i = 1}^{m}a_{i}v_{i} - \sum_{j = 1}^{n}b_{j}h_{j} - \sum_{i = 1}^{m}\sum_{j = 1}^{n}v_{i}h_{j}w_{ij}} \tag{1}
$$

式中：  $\theta = \{w_{ij},a_i,b_j\} ,w_{ij}$  表示节点间的连接权重。

由式（1）可以定义  $(v,h)$  的联合概率分布和似然函数为

$$
P(v,h;\theta) = \frac{\mathrm{e}^{-E(v,h;\theta)}}{Z(\theta)} = \frac{\mathrm{e}^{-E(v,h;\theta)}}{\sum_{v,h}\mathrm{e}^{-E(v,h;\theta)}}, \tag{2}
$$

$$
P\left(v; \theta\right) = \frac{\sum_{h} \mathrm{e}^{-k\left(\theta + h; \theta\right)}}{Z\left(\theta\right)} \tag{3}
$$

当可见层状态  $v$  确定时，隐含层节点  $j$  的激活概率为

$$
P\left(h_{j} = 1 \mid v; \theta\right) = \operatorname{sigm}\left(b_{j} + \sum_{j} h_{j} w_{ij}\right) \tag{4}
$$

当隐含层状态  $h$  确定时，隐含层节点  $i$  的激活概率为

$$
P\left(v_{i} = 1 \mid h; \theta\right) = \operatorname{sigm}\left(a_{i} + \sum_{j} h_{j} w_{ij}\right) \tag{5}
$$

$$
\operatorname{sigm}\left(x\right) = \frac{1}{1 + \exp\left(1 - x\right)} \tag{6}
$$

为了使RBM能最大程度地拟合可见层输入的数据，需要以对数似然函数的最大值为目标，对RBM模型的参数  $\theta = \left\{w_{ij}, a_{i}, b_{j}\right\}$  进行求解。对数似然函数偏导数如下：

$$
\frac{\partial \lg P(V)}{\partial w_{ij}} = \left(P\left(h_{j} = 1 \mid V\right) - \sum_{v} P\left(v\right) P\left(h_{j} = 1 \mid v\right)\right) v_{i},
$$

$$
\frac{\partial \lg P(V)}{\partial a_{i}} = v_{i} - \sum_{v} P\left(v\right) v_{i}, \tag{8}
$$

$$
\frac{\partial \lg P(V)}{\partial b_{j}} = P\left(h_{j} = 1 \mid V\right) - \sum_{v} P\left(v; \theta\right) P\left(h_{j} = 1 \mid v; \theta\right)
$$

式中：  $V$  表示可见层的确定输入，  $v$  表示可见层节点的状态。

在给定可见层状态  $v$  后，先根据公式（4）计算出  $P(h \mid v)$  确定隐含层状态  $h$  ，再根据式（5）计算出  $P(v \mid h)$  确定可见层状态  $v$  ，当  $v$  和  $v$  值误差小于预期，则认为隐含层已经捕获原始数据中的信息映射结构；若误差大于预期，则根据对比散度算法修正对应参数。对比散度算法对结构参数的修正量如下：

$$
\Delta w_{ij} = \eta \left[P\left(h_{j}^{\{0\}} = 1 \mid v^{\{0\}}\right) v_{j}^{\{0\}} - P\left(h_{j}^{\{k\}} = 1 \mid v^{\{k\}}\right) v_{j}^{\{k\}}\right],
$$

$$
\Delta a_{i} = \eta \left[ \begin{array}{l}0 \\ 0 \end{array} - v_{i}^{(l)} \right], \tag{11}
$$

$$
\Delta b_{j} = \eta \left[ P\left(h_{j}^{\{0\}} = 1 \mid v^{\{0\}}\right) - P\left(h_{j}^{\{k\}} = 1 \mid v^{\{k\}}\right) \right]
$$

式中：  $\eta$  表示模型学习率，  $v^{\{0\}}$  表示可见层初始状态，  $v^{\{k\}}$  表示可见层  $k$  步吉布斯抽样后的状态。

# 1.2 深度置信网络

深度置信网络是由一系列特征提取结构（受限玻尔兹曼机或自动编码器）堆叠而成的概率生成模型，通过调节每相邻两层神经元节点间的连接权值，

学习输入层和隐藏层间的联合概率分布，拟合对应数据间蕴含的特征信息。图2定义了一个具有  $l$  层隐藏层深度置信网络，虚线为Dropout策略下失效的神经元，输入数据  $x$  为有时序关系的数据值。网络的构造流程主要分为无监督权值初始化和有监督全局精调两部分。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/2e5f9687f5718ec77f615c2ce11372962e54cbab144fe456bd5763daf29ea9d9.jpg)  
图2 深度置信网络结构图

无监督权值初始化本质是构造  $l - 1$  个受限玻尔兹曼机，按照对比散度算法逐个训练使每一个RBM的重构误差最小。首先将历史数据作为可见层输入训练图2中的RBM中，利用对比散度算法训练第一个RBM层间的连接权重  $w_{ij}^{1}$ ，然后根据  $w_{ij}^{1}$  和公式（4）得到  $P\left(h_{j} = 1 \mid v; w_{ij}^{1}\right)$ ，将其作为图2中RBM2中的可见层输入，计算RBM2的连接权重  $w_{ij}^{2}$  并依次前馈得到DBN隐藏层  $l - 1$  和隐藏层  $l$  的连接权重  $w_{ij}^{l}$ ，最后以计算出各RBM的连接权重矩阵替换DBN模型的结构权重。

传统DBN有监督全局精调是在初始化权值的基础上，根据反向传播算法对DBN中每一个神经元权重进行修正。在有限样本下，该策略构造的DBN模型泛化性和鲁棒性不足，模型间的差异性较小，不利于多模型的融合，因此本文将Dropout机制引入DBN构造。在误差计算之前，DBN模型中的隐藏神经元按Dropout率随机置为失效，有效神经元前馈链接成新的网络。根据梯度下降算法将新网络的前馈误差传递到新网络的每一个有效神经元，修改层间的连接权重。由于每次训练过程的新网络中有效神经元上下层连接关系都不相同，训练后的神经元不再依赖固定的连接关系，促使网络变得更独立和随机。

# 1.3 跨域迁移训练

DBN模型的迁移训练流程如下：

Step1从数据库中调出预测目标的历史数据进行归一化操作并构建训练样本集，对实时监测数据进行归一化操作并构建迁移样本集。

Step2根据模型结构参数和超参数完成DBN模型的构建设置。

Step3DBN模型使用训练样本集进行无监督权值初始化，得到RBM的连接参数并替换DBN的结构权重。

Step4DBN模型使用训练样本集进行含Dropout的全局精调，循环迭代新的DBN网络直到误差收敛。

Step5采用迁移样本集对训练后的DBN模型进行Dropout策略的全局精调，直到达到预设均方误差值，完成模型迁移训练。

# 2多模型融合的预测框架

考虑到机载场景的复杂应力环境和单一DBN模型特征学习能力不足间的矛盾，本文提出一种多模型融合的预测框架，如图3所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/dd0eeeffc40a2e2915768c81d1857f2fcddec173538b441f78988e03898c9f92.jpg)  
图3预测框架图

# 2.1 模型融合算法

模型融合算法是通过对适应函数全局最优解的搜索，整合差异性预测模型间的特征挖掘优势，消除由环境负载差异带来的预测结果偏差并完成模型修正，实现故障预测精度的提升。本文采用一种改进遗传算法确定多个深度置信网络预测的融合权重，算法的运行流程图如图4所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/3506074f131a5d3079537c15fc6ed825067aa6c0d94f0067327428625c305238.jpg)  
图4改进遗传算法流程图

# （1）优化目标

模型融合算法以多模型融合预测结果与实时数据的误差最小为优化目标，衡量每轮迭代后的融合效果。其适应度函数的数学表达式如下：

$$
\epsilon = \min f i n e s s, \tag{13}
$$

$$
fitness = \sum_{t = 1}^{T} |data_{\mathrm{real}}(t) - w_{1} data_{\mathrm{prel}}(t) \dots w_{1} data_{\mathrm{prel}}(t)|
$$

式中：  $t$  表示第  $t$  个样本，  $data_{\mathrm{real}}$  表示标签值，  $data_{\mathrm{prel}}$  表示模型1的预测值，  $w_{1}$  表示模型1的融合权重。

# （2）精英保留操作

在遗传操作开始时将父代中适应度计算结果最优的染色体中的一段基因直接遗传到子代的染色体中，这段基因占总基因数的比例为  $P$  ，选取的基因个数为  $P \times N, N$  代表一个染色体中基因总数。该操作可以有效避免融合权重的优秀表征在遗传操作中丧失。

# （3）自适应交叉操作

自适应交叉在传统交叉的基础上依据不同染色的适应度大小对交叉概率进行调整，适应度小的染色体交叉概率小，适应度大的染色体采用大的交叉概率。自适应交叉的计算公式如下：

$$
P_{\mathrm{c}} = k(f_{\mathrm{max}} - f^{\prime}) / (f_{\mathrm{max}} - f_{\mathrm{ave}}) \tag{15}
$$

式中：  $k$  表示初始交叉概率，  $f_{\mathrm{max}}$  表示适应度最大值， $f_{\mathrm{ave}}$  表示适应度平均值  $f^{\prime}$  表示当前染色体适应度。

# 2.2 多模型融合流程

为了兼顾多个模型学习的特征信息，所提方法的整体流程如下：

Step1对目标预测库的历史数据进行归一化处理，按照每个样本为预测步长  $N + 1$  构造模型训练样本集；对实时监测数据进行同样的归一化处理，按照  $1:1$  的数据比例构造迁移训练样本集和模型融合样本集。

Step2根据模型训练样本集、迁移训练样本集和迁移训练算法构建迁移后的DBN模型组。

Step3迁移后的DBN模型组以迁移训练样本集的最后一个样本为基础对未来的退化趋势进行预测，得到迁移预测结果。

Step4根据模型融合算法、迁移预测结果和模型融合样本集，对融合权重进行全局寻优，确定模型组的融合权重，集成得到完整的预测模型

Step5将模型融合样本集的最后一个样本输入完整的预测模型，不断选代直到预测值超过原定闻值，输出预测目标的故障预测结果

# 3 实验验证

锂离子电池系统作为飞机的启动电源和备用电源已经部署于波音和空客等多个航空公司的诸多机型，因此本文以锂离子电池作为电源模块的关键性器件验证所提方法。实验数据采用美国航空航天局的4组锂离子电池数据，电池额定容量为 $2\mathrm{A}\cdot \mathrm{h}$  ，实验温度为  $25\%$  。4组锂离子电池先以1.5A的充电电流充电，直到电压达到  $4.2~\mathrm{V}$  ；然后前三组以2A的放电电流放电，直到电池电压分别降至 $2.7\mathrm{V},2.5\mathrm{V}$  和  $2.2~\mathrm{V}$  ，第四组和第二组的操作相同；通过重复充放电循环操作加速电池老化直到电池故障，实验数据展示如图5所示。

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/820c4f38c6db72a692866dbeb017a7553913bb696b3fd093c553e0ee45230fe6.jpg)  
图5实验数据展示图

实验以前三组电池数据作为历史数据，以第四组数据中第1～33个循环数据作为迁移训练数据，第34～66个循环数据作为模型融合数据，第  $67\sim$  132个循环数据作为预测分析数据。预测采用三步预测，即根据最初数据组  $\{x_{1},x_{2},x_{3}\}$  预测  $x_{4}$  ，再根据预测到的  $x_{4}$  组成新的数据组  $\{x_{2},x_{3},x_{4}\}$  预测  $x_{5}$  ，随后依次预测直到故障闻值。

为了验证本文方法融合策略对预测性能提升，以及深度学习模型与浅层模型特征提取能力的差异，实验设置三种对比方法：

（1)本文方法：DBN模型隐藏层设置为505050]、[75757]、[100100100]，最大学习周期数为300，迁移学习选代次数200，动量系数0.95，学习率0.05，Dropout率为0.5，初始交叉概率为0.7，保留概率为0.3。

（2）单一DBN模型，结构参数和超参数与本文方法一致。

（3）支持向量回归（Support Vector Regression，SVR），核函数采用径向基函数，惩罚系数为1，核函数参数gamma为0.7。

三种方法的预测结果如图6～8所示

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/c6d062ad5edcb598aa0f177492633fc7454058b9a04d4636b0aef1b17c79a99d.jpg)  
图6本文方法预测结果

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/2f640d406e019a779ac9daea4e4033d4b82f06986cb8e4f920120bb3d3eceba1.jpg)  
图7 单一深度置信网络预测结果

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/0ca11606255de381ab2c14ae1092fd4c28af6046f88aca317d8b9d1423ffc47d.jpg)  
图8 支持向量回归预测结果

表1给出了三种方法预测结果的统计分析，其中均方根误差、最大相对误差和平均相对误差是对预测误差的直观分析数据，相关度则是预测曲线和实际曲线的互相关计算结果，代表两者的一致性程度。工业中普遍采用  $30\%$  额定容量作为故障门限，故障门限值为  $1.4\mathrm{A}\cdot \mathrm{h}$  ，本文方法得出的电源模块剩余寿命为32循环周期，真实剩余寿命为31循环周期，设备剩余寿命预测误差为  $3.23\%$  。

表1预测结果统计分析表  

<table><tr><td>方法</td><td>均方根
误差</td><td>最大相对
误差/%</td><td>平均相对
误差/%</td><td>相关度</td></tr><tr><td>SVR</td><td>0.055</td><td>18.83</td><td>2.93</td><td>0.770 6</td></tr><tr><td>单一DBN</td><td>0.034</td><td>5.59</td><td>2.15</td><td>0.893 0</td></tr><tr><td>完整预测框架</td><td>0.008</td><td>2.75</td><td>0.90</td><td>0.964 7</td></tr></table>

比较分析实验结果可以得出以下结论：

（1)本文提出的多模型融合预测框架通过融合多个具有差异性模型将特征提取效果最大化，相比单一DBN模型拥有更好的预测性能，预测精度提高了一个数量级。

（2）基于深度置信网络的迁移学习方法解决了原始域和目标域的差异问题，且作为深度学习模型相较于浅层学习模型有着更好的学习捕获特征的能力。

# 4结束语

本文分析了航空电子设备故障预测的工程需求，针对数据偏差和退化特征提取能力不足问题提出了结合Dropout策略和迁移训练的DBN模型构建方法，修正了外部环境差异带来的数据分布偏差，并通过改进遗传算法实现了DBN模型组预测性能的集成。实验表明本文方法对航空电子设备的故障演化有更准确的预测效果，剩余寿命预测误差在  $4\%$  以内，可以为相关设备视情维修的维修决策制定提供参考依据。未来将进一步研究深度学习模型在小样本变工况场景下的特征提取策略。

# 参考文献：

[1] 吕克洪，程先哲，李华康，等.电子设备故障预测与健康管理技术发展新动态Ⅲ.航空学报，2019，40（11）：13- 24. [2] 文佳.基于多信号模型的综合化航电系统综合诊断算法设计Ⅲ.电讯技术，2014，54（3）：361- 367. [3] 陈华坤，章卫国，史静平，等.航空电子设备故障预测特征参数提取方法研究Ⅲ.西北工业大学学报，2017，35（3）：364- 373. [4] 申海东，解江，吴雪珂，等.考虑热效应的IGBT热网络模型建模方法Ⅲ.半导体技术，2018（12）：898- 904. [5] TANG S, YU G, WANG X, et al. Remaining useful life prediction of lithium- ion batteries based on the wiener process with measurement error [Ⅲ]. Energies, 2014, 7（2）：520- 547. [6] GEOFFREY E H. Training products of experts by minimizing contrastive divergence [Ⅲ]. Neural Computation, 2002,14（8）：1771- 1800. [7] 邢广华，朱宁文.运输类飞机锂离子电池系统专用条件研究Ⅲ.科技展望，2016，26（21）：171. [8] NASA Prognostics Center of Excellence. Battery prognostics [EB/OL]. [2020- 02] :15]. http://ti.arc.nasa.gov/tech/dash/pcoe/battery prognostics/references/2007. [9] YONG P, SUN J. Fast online approximation for hard support vector regression and its application to analytical redundancy for aeroengines [Ⅲ]. Chinese Journal of Aeronautics,2010,22（2）：145- 152.

# 作者简介：

![](https://cdn-mineru.openxlab.org.cn/result/2025-09-13/8222b4b3-ad6c-4493-b1c5-62c9384bfecf/d76848ae40bae0faed9d553fdbaf6fa4ec89b69d68516b9199af336a55eef2df.jpg)

梁天辰 男，1993年生于浙江温岭，2019年于西北工业大学获硕士学位，现为助理工程师，主要研究方向为电子产品可靠性、故障预测与健康管理。